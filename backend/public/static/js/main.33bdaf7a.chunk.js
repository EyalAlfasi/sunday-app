(this["webpackJsonpmonday-proj"]=this["webpackJsonpmonday-proj"]||[]).push([[0],{287:function(e,t,r){},319:function(e,t){},357:function(e,t){},469:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r.n(a),s=r(17),o=r.n(s),i=r(15),u=r(31),l=(r(287),r(3)),d=r.n(l),p=r(5),b=r(119),h=r(7),f=r(10),j=r(11),m=r(13),g=r(12),v=r(20),O=r(240),x=r.n(O),y=function(){var e;return{setup:function(){e=x()("https://sunday-app-2021.herokuapp.com/")},on:function(t,r){e.on(t,r)},off:function(t,r){e.off(t,r)},emit:function(t,r){e.emit(t,r)},terminate:function(){e=null}}}();window.socketService=y;var w=r(26),C=r(120),k=r.n(C),S="/api/",N=k.a.create({withCredentials:!0}),D=function(e,t){return M(e,"GET",t)},B=function(e,t){return M(e,"POST",t)},U=function(e,t){return M(e,"PUT",t)},_=function(e,t){return M(e,"DELETE",t)};function M(e){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(d.a.mark((function e(t){var r,n,a,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"get",n=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,N({url:"".concat(S).concat(t),method:r,data:n});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var A={delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},getRandomInt:T,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},getNameInitials:function(e){return(e=e.split(" ")).map((function(e){return e[0]})).join("").toUpperCase()},getRandomPassword:function(){for(var e="",t=["ABCDEFGHIJKLMNOPKRSTUVWXYZ","abcdefghijklmnopkrstuvwxyz","@#$%^&*!","1234567890"],r=0,n=0;n<8;n++){var a=t[r],c=T(0,a.length);e+=a.charAt(c),3===++r&&(r=0)}return e},getNameOfMonth:function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}};function T(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}var R={login:function(e){return P.apply(this,arguments)},logout:function(){return q.apply(this,arguments)},signup:function(e){return J.apply(this,arguments)},getUsers:function(e){var t=e?"?fullname=".concat(e):"";return D("user".concat(t))},getUserById:E,remove:function(e){return _("user/".concat(e))},update:F,getLoggedinUser:K,updateNotifications:function(e){return W.apply(this,arguments)},cleanNotifications:function(e){return z.apply(this,arguments)},updateReadNotifications:function(e){if(e.notifications)return e.notifications.forEach((function(e){return e.isRead=!0})),F(e)}};function E(e){return L.apply(this,arguments)}function L(){return(L=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("user/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return G.apply(this,arguments)}function G(){return(G=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("user/".concat(t._id),t);case 2:return r=e.sent,K()._id===r._id&&H(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B("auth/login",t);case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",H(r));case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Could'nt find users");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function J(){return(J=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",H(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("auth/logout");case 2:return sessionStorage.clear(),e.abrupt("return");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function K(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}function W(){return(W=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.member,n=t.notificationTxt,a=t.user,c={id:A.makeId(),notificationTxt:n,isRead:!1,createdAt:Date.now(),byMember:{_id:a._id,fullname:a.fullname,imgUrl:a.imgUrl?a.imgUrl:null}},e.next=4,E(r._id);case 4:return(s=e.sent).notifications?s.notifications=[c].concat(Object(w.a)(s.notifications)):s.notifications=[c],e.abrupt("return",F(s));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t._id);case 2:return(r=e.sent).notifications=[],e.abrupt("return",F(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return function(t){var r={type:"SET_MSG",msg:e};t(r),setTimeout((function(){t(r={type:"CLEAR_MSG"})}),2e3)}}function Y(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.login(e);case 3:return n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function Z(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.logout();case 3:t({type:"LOG_OUT"}),t({type:"SET_BOARDS",boards:[]}),t({type:"SET_CURR_BOARD",board:null}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function X(e){return function(t){t({type:"SET_LOGGED_IN_USER",user:e})}}var $=r(149),Q={query:function(e){return ee.apply(this,arguments)},removeBoard:function(e){return re.apply(this,arguments)},getBoardById:function(e,t){return te.apply(this,arguments)},addCard:function(e){return ce.apply(this,arguments)},addBoard:function(e,t){return ne.apply(this,arguments)},addGroup:function(e,t){return se.apply(this,arguments)},deleteCard:function(e){return oe.apply(this,arguments)},getBoardIdByIdx:function(e,t){var r;return!e&&t.length?t[e]._id:null===(r=t[e-1])||void 0===r?void 0:r._id},changeBoardTitle:function(e,t,r){return ie.apply(this,arguments)},changeCardTitle:function(e){return me.apply(this,arguments)},changeGroupTitle:function(e){return be.apply(this,arguments)},updateTaskMembers:function(e,t,r,n,a,c){try{var s,o,i,u=JSON.parse(JSON.stringify(r)),l=ae(u,a),d=u.members.find((function(t){return t._id===e}));"remove"===t?(o="removed ".concat(d.fullname," from card '").concat(n.title,"' "),e!==c._id&&(i="".concat(c.fullname," removed you from card '").concat(n.title,"' in group : ").concat(l.title)),s=l.cards.map((function(t){if(n.id===t.id){var r=t.members.filter((function(t){return e!==t._id}));return t.members=r,t}return t}))):(o="added ".concat(d.fullname," to card '").concat(n.title,"'"),e!==c._id&&(i="".concat(c.fullname," added you to card '").concat(n.title,"' in group : ").concat(l.title)),s=l.cards.map((function(e){if(n.id===e.id){var t=[].concat(Object(w.a)(e.members),[d]);return e.members=t,e}return e})));var p=ve(c,o);u.activities=[p].concat(Object(w.a)(u.activities)),l.cards=s;var b=u.groups.map((function(e){return e.id===l.id?l:e}));if(u.groups=b,U("board",u),i)return{member:d,notificationTxt:i,user:c}}catch(h){throw h}},changeCardDates:function(e,t,r,n,a){return ge.apply(this,arguments)},changeCardLabels:function(e,t,r,n,a,c){return he.apply(this,arguments)},changeGroupColor:function(e,t,r){return ue.apply(this,arguments)},removeGroup:function(e,t,r){return le.apply(this,arguments)},changeBoardMemebrs:function(e,t,r,n){var a,c,s,o=JSON.parse(JSON.stringify(t));if("remove"===r){var i=o.members.find((function(t){return t._id===e}));e!==n._id&&(c="".concat(n.fullname," remove you from '").concat(t.title,"' ")),s=o.members.find((function(t){return t._id===e})),a="removed ".concat(i.fullname," from this board"),o.members=o.members.filter((function(t){return t._id!==e})),o.groups=o.groups.map((function(t){return t.cards=t.cards.map((function(t){return t.members=t.members.filter((function(t){return t._id!==e})),t})),t}))}else{a="added ".concat(e.fullname," to this board"),e._id!==n._id&&(c="".concat(n.fullname," add you to '").concat(t.title,"'")),s=Object(h.a)({},e);var u=[].concat(Object(w.a)(o.members),[e]);o.members=u}var l=ve(n,a);if(o.activities=[l].concat(Object(w.a)(o.activities)),U("board",o),c)return{member:s,notificationTxt:c,user:n}},changeGroupIdx:function(e,t){return de.apply(this,arguments)},changeCardIdx:function(e,t){return pe.apply(this,arguments)},sortByTitle:function(e){return e=e.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:e.title.toLowerCase()<t.title.toLowerCase()?-1:0}))},sortByDate:function(e){return e=e.sort((function(e,t){return t.createdAt-e.createdAt}))},sortCardByDate:function(e){var t=JSON.parse(JSON.stringify(e));return t=t.sort((function(e,t){var r,n;return r=e.dueDate.endDate?e.dueDate.endDate:e.dueDate.startDate?e.dueDate.startDate:e.createdAt,n=t.dueDate.endDate?t.dueDate.endDate:t.dueDate.startDate?t.dueDate.startDate:t.createdAt,new Date(r).getTime()-new Date(n).getTime()}))},addCardLabel:function(e,t,r,n){return je.apply(this,arguments)},updateActivities:function(e,t){var r=JSON.parse(JSON.stringify(e));t?r.activities=[]:r.activities.forEach((function(e){return e.isRead=!0}));return U("board",r)},deepSearchByKey:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null!==t)if(Array.isArray(t)){var a,c=Object($.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value;e(s,r,n)}}catch(l){c.e(l)}finally{c.f()}}else if("object"===typeof t)for(var o=0,i=Object.keys(t);o<i.length;o++){var u=i[o];"groups"===u?e(t[u],r,n):"cards"===u&&t.hasOwnProperty("cards")?t[u].forEach((function(e){e._id===r&&n.push(t)})):e(t[u],r,n)}return n},getKeyById:function(e,t){var r=new Set;return function e(t,n){if(!t)return void r.clear();if(r.has(t))return void r.clear();if(r.add(t),Array.isArray(t)){var a,c=Object($.a)(t);try{for(c.s();!(a=c.n()).done;){var s=e(a.value,n);if(s)return s}}catch(d){c.e(d)}finally{c.f()}}else if("object"===typeof t)for(var o=0,i=Object.keys(t);o<i.length;o++){var u=i[o];if(t[u]===n)return t;if("object"===typeof t[u]||Array.isArray(t[u])){var l=e(t[u],n);if(l)return l}}}(e,t)},addCardUpdate:function(e,t,r){return fe.apply(this,arguments)}};function ee(){return(ee=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t?"?userId=".concat(t):"",e.abrupt("return",D("board".concat(r)));case 5:throw e.prev=5,e.t0=e.catch(0),new Error("couldn't find boards");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function te(){return(te=Object(p.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",D("board/".concat(t)));case 4:throw e.prev=4,e.t0=e.catch(0),new Error("couldn't find board");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function re(){return(re=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("board/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={title:t,createdBy:{},members:[],activities:[],groups:[xe(r)]},e.abrupt("return",B("board",n));case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ae(e,t){return e.groups.find((function(e){return t===e.id}))}function ce(){return(ce=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o,i,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.cardTitle,c=t.user,e.prev=1,s=JSON.parse(JSON.stringify(r)),o=ae(s,n),i="added a new card : ".concat(a,", to group : ").concat(o.title),u=ve(c,i),s.activities=[u].concat(Object(w.a)(s.activities)),o.cards=[].concat(Object(w.a)(o.cards),[Oe(a,c)]),l=s.groups.map((function(e){return e.id===o.id?o:e})),s.groups=l,U("board",s),e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function se(){return(se=Object(p.a)(d.a.mark((function e(t,r){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"added a new group",n=ve(r,"added a new group"),(a=JSON.parse(JSON.stringify(t))).activities=[n].concat(Object(w.a)(a.activities)),c=xe(r),a.groups=[c].concat(Object(w.a)(a.groups)),U("board",a),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function oe(){return(oe=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o,i,u,l,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.cardId,c=t.user,e.prev=1,s=JSON.parse(JSON.stringify(r)),o=ae(s,n),i="deleted a card in group : ".concat(o.title),u=ve(c,i),s.activities=[u].concat(Object(w.a)(s.activities)),l=o.cards.filter((function(e){return e.id!==a})),o.cards=l,p=s.groups.map((function(e){return e.id===o.id?o:e})),s.groups=p,U("board",s),e.abrupt("return",s);case 15:throw e.prev=15,e.t0=e.catch(1),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function ie(){return(ie=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(r)),c="changed board title from '".concat(a.title,"' to '").concat(t,"'"),s=ve(n,c),a.activities=[s].concat(Object(w.a)(a.activities)),a.title=t,U("board",a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(p.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(h.a)({},r),c=a.groups.map((function(e){return e.id===n?(e.style.color=t,e):e})),a.groups=c,U("board",a),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function le(){return(le=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(JSON.stringify(t)),c="removed group ".concat(r.title),s=ve(n,c),a.activities=[s].concat(Object(w.a)(a.activities)),o=a.groups.filter((function(e){return e.id!==r.id})),a.groups=o,U("board",a),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function de(){return(de=Object(p.a)(d.a.mark((function e(t,r){var n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.destination,a=r.source,e.prev=1,c=JSON.parse(JSON.stringify(t)),s=c.groups.map((function(e,t,r){return t===a.index?r[n.index]:t===n.index?r[a.index]:e})),c.groups=s,U("board",c),e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function pe(){return(pe=Object(p.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",U("board",t));case 4:throw e.prev=4,e.t0=e.catch(0),e.t0;case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function be(){return(be=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o,i,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.groupTitle,c=t.user,e.prev=1,s=JSON.parse(JSON.stringify(r)),o="",i=s.groups.map((function(e){return e.id===n?(o=e.title,e.title=a,e):e})),s.groups=i,u="changed group title from ".concat(o," to ").concat(a),l=ve(c,u),s.activities=[l].concat(Object(w.a)(s.activities)),U("board",s),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(1);case 15:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function he(){return(he=Object(p.a)(d.a.mark((function e(t,r,n,a,c,s){var o,i,u,l,p,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=JSON.parse(JSON.stringify(t)),i=ae(o,n),u="updated ".concat(c," in card '").concat(r.title,"' from '").concat(r[c].text,"' to '").concat(a.text,"'"),l=ve(s,u),o.activities=[l].concat(Object(w.a)(o.activities)),p=i.cards.map((function(e){return r.id===e.id?(e[c]=a,e):e})),i.cards=p,b=o.groups.map((function(e){return e.id===i.id?i:e})),o.groups=b,U("board",o),e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function fe(){return(fe=Object(p.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.createdAt=Date.now(),n.updates?n.updates.unshift(t):n.updates=Object(w.a)(t),a=JSON.parse(JSON.stringify(r)),c=a.groups.map((function(e){var t=e.cards.map((function(e){return e.id===n.id?n:e}));return e.cards=t,e})),a.groups=c,e.abrupt("return",U("board",a));case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function je(){return(je=Object(p.a)(d.a.mark((function e(t,r,n,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.groups.map((function(e){if(e.id===r){var t=Object(h.a)({},e);return t[a]=[].concat(Object(w.a)(t[a]),[n]),t}return e})),t.groups=c,U("board",t),e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function me(){return(me=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o,i,u,l,p,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.cardToUpdate,c=t.cardTitle,s=t.user,e.prev=1,o=JSON.parse(JSON.stringify(r)),i=ae(o,n),u="changed card title from ".concat(a.title," to ").concat(c),l=ve(s,u),o.activities=[l].concat(Object(w.a)(o.activities)),p=i.cards.map((function(e){return e.id===a.id?(e.title=c,e):e})),i.cards=p,b=o.groups.map((function(e){return e.id===i.id?i:e})),o.groups=b,e.abrupt("return",U("board",o));case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function ge(){return(ge=Object(p.a)(d.a.mark((function e(t,r,n,a,c){var s,o,i,u,l,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.parse(JSON.stringify(r)),o=ae(s,n),i="updated dates in card '".concat(a.title,"'"),u=ve(c,i),s.activities=[u].concat(Object(w.a)(s.activities)),l=o.cards.map((function(e){return e.id===a.id?(e.dueDate=t,e):e})),o.cards=l,p=s.groups.map((function(e){return e.id===o.id?o:e})),s.groups=p,U("board",s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t){return{id:A.makeId(),txt:t,isRead:!1,createdAt:Date.now(),byMember:{_id:e._id,fullname:e.fullname,imgUrl:e.imgUrl?e.imgUrl:null}}}function Oe(e,t){return{id:A.makeId(),title:e,updates:[],members:[{_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl?t.imgUrl:null}],status:{text:"No status yet",color:"#cccccc",id:A.makeId()},priority:{text:"Set priority",color:"#cccccc",id:A.makeId()},createdAt:Date.now(),dueDate:{startDate:"",endDate:""},createdBy:{_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl?t.imgUrl:null}}}function xe(e){return{id:A.makeId(),title:"New group",createdBy:{_id:e._id,fullname:e.fullname,imgUrl:e.imgUrl?e.imgUrl:null},createdAt:Date.now(),statuses:[{text:"Done",color:"#00ca72",id:A.makeId()},{text:"Stuck",color:"#fb275d",id:A.makeId()},{text:"Working on it",color:"#ffcc00",id:A.makeId()}],priorities:[{text:"Low",color:"#6bf1b9",id:A.makeId()},{text:"Medium",color:"#6b97f1",id:A.makeId()},{text:"High",color:"#ff812f",id:A.makeId()},{text:"Urgent",color:"#ff2f2f",id:A.makeId()}],cards:[Oe("New item",e)],style:{color:"#0085ff"}}}function ye(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.query(e);case 3:return n=t.sent,r({type:"SET_BOARDS",boards:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function we(e){return Object(p.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.query(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}function Ce(e,t){return Object(p.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.abrupt("return",Q.getKeyById(e,t));case 4:r.prev=4,r.t0=r.catch(0),console.log(r.t0);case 7:case"end":return r.stop()}}),r,null,[[0,4]])})))}var ke=r(512),Se=r.p+"static/media/sunday-logo.e9faebf5.svg",Ne=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isNavOpen:!1,isScrolled:!1,scrollTop:0},e.handleScroll=function(){var t=["/","/login","/signup"];window.scrollY>0&&t.indexOf(e.props.location.pathname)>0?document.querySelector(".home-header-container").className="flex home-header-container header-shadow":t.indexOf(e.props.location.pathname)>0&&(document.querySelector(".home-header-container").className="flex home-header-container")},e.toggleMobileNav=function(){var t=e.state.isNavOpen;e.setState({isNavOpen:!t})},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.state.isNavOpen;return Object(n.jsxs)("header",{ref:this.scrollRef,onScroll:this.onScroll,className:"home-header-container flex",children:[Object(n.jsxs)(i.b,{to:"/",children:[" ",Object(n.jsx)("img",{src:Se,alt:"sunday logo"})," "]}),Object(n.jsxs)("nav",{children:[Object(n.jsxs)("div",{className:"hamburger ".concat(t?"open":""),onClick:this.toggleMobileNav,children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{})]}),Object(n.jsxs)("ul",{className:"flex nav-list ".concat(t?"open-nav":""),children:[Object(n.jsx)("li",{children:Object(n.jsx)(i.c,{activeClassName:"nav-active",to:"/login",children:"Log in"})}),Object(n.jsx)("li",{children:Object(n.jsx)(i.c,{activeClassName:"nav-active",to:"/signup",children:"Sign up"})}),Object(n.jsx)("li",{children:Object(n.jsx)("button",{className:"home-header-login-btn",onClick:Object(p.a)(d.a.mark((function t(){var r,n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.checkLogin({username:"guest",password:"12345678"});case 3:if(!(r=t.sent)){t.next=10;break}return t.next=7,e.props.loadBoards(r._id);case 7:n=t.sent,a=n.length?"/board/".concat(n[0]._id):"/board",e.props.history.push(a);case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])}))),children:"Try as guest"})})]})]})]})}}]),r}(a.Component),De={checkLogin:Y,loadBoards:ye,updateUserNotifications:X},Be=Object(u.g)(Object(v.b)((function(e){return{user:e.userReducer.user}}),De)(Ne)),Ue=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",loggedinUser:"",loginCred:{username:"",password:""}},e.loginHandleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState((function(e){return{loginCred:Object(h.a)(Object(h.a)({},e.loginCred),{},Object(b.a)({},n,a))}}))},e.doLogin=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state.loginCred,a=n.username,c=n.password,a&&c){t.next=5;break}return e.setState({msg:"Please enter username/password"}),t.abrupt("return");case 5:return t.prev=5,t.next=8,e.props.checkLogin(Object(h.a)({},e.state.loginCred));case 8:if(!(s=t.sent)){t.next=15;break}return t.next=12,e.props.loadBoards(s._id);case 12:o=t.sent,i=o.length?"/board/".concat(o[0]._id):"/board",e.props.history.push(i);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),e.setState({msg:"Wrong username/password"});case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(r,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"main-login-signup-container",children:[Object(n.jsx)(Be,{}),Object(n.jsxs)("div",{className:"inner-login-signup-container",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Welcome back"}),Object(n.jsx)("h3",{children:"Log in"})]}),Object(n.jsxs)("form",{onSubmit:this.doLogin,className:"sunday-form",children:[Object(n.jsx)(ke.a,{margin:"normal",required:!0,name:"username",placeholder:"Username",autoFocus:!0,onChange:this.loginHandleChange}),Object(n.jsx)(ke.a,{required:!0,name:"password",type:"password",placeholder:"Password",onChange:this.loginHandleChange}),Object(n.jsx)("h3",{children:this.state.msg}),Object(n.jsx)("button",{className:"login-signup-btn",type:"submit",children:"Sign in"})]}),Object(n.jsxs)(i.b,{to:"/signup",children:["Don't have an account? ",Object(n.jsx)("b",{children:"Sign Up"})]})]})]})}}]),r}(a.Component),_e={checkLogin:Y,loadBoards:ye,updateUserNotifications:X},Me=Object(v.b)((function(e){return{boards:e.boardReducer.boards}}),_e)(Ue),Ie=r(45),Ae=r(505),Te=r(506),Re=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",signupCred:{username:"",password:"",fullname:"",email:"",confirm:""},isShowPassword:!1},e.onSignUp=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.username,a=r.password,c=r.fullname,s=r.email,t.prev=1,t.next=4,e.props.signup({username:n,password:a,fullname:c,email:s});case 4:e.setState((function(e){return{signupCred:Object(h.a)(Object(h.a)({},e.signupCred),{},{password:"",confirm:"",username:"",fullname:"",email:"signupCred"})}})),e.props.history.push("/board"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.setState({msg:"Try again"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onTogglePassword=function(){e.setState((function(t){return Object(h.a)(Object(h.a)({},t),{},{isShowPassword:!e.state.isShowPassword})}))},e.validate=function(t){e.setState({signupCred:t});var r={};return t.username||(r.username="Required"),t.fullname||(r.fullname="Required"),t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(t.email)||(r.email="Invalid email address"):r.email="Required",t.password!==t.confirm&&(r.confirm="Password don`t match!!! "),t.confirm||(r.email="Required"),r},e.onGetRandomPassword=function(t){t.preventDefault();var r=A.getRandomPassword();e.setState((function(e){return{signupCred:Object(h.a)(Object(h.a)({},e.signupCred),{},{password:r,confirm:r})}}))},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this,t=this.state.isShowPassword,r=t?"text":"password";return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"main-login-signup-container",children:[Object(n.jsx)(Be,{}),Object(n.jsxs)("div",{className:"inner-login-signup-container",children:[Object(n.jsx)("h2",{children:"Let's get started!"}),Object(n.jsx)("h3",{children:"Sign up"}),Object(n.jsx)(Ie.d,{enableReinitialize:!0,initialValues:this.state.signupCred,validate:this.validate,onSubmit:this.onSignUp,children:function(){return Object(n.jsxs)(Ie.c,{className:"sunday-form signup-fields-arranegment",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(Ie.b,{placeholder:"Username",autoFocus:!0,type:"text",name:"username",autoComplete:"off",required:!0,as:ke.a}),Object(n.jsx)(Ie.a,{name:"fullname",className:"err-msg"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ie.b,{required:!0,placeholder:"Fullname",type:"text",name:"fullname",as:ke.a}),Object(n.jsx)(Ie.a,{name:"fullname",className:"err-msg"})]}),Object(n.jsxs)("div",{className:"password-container",children:[Object(n.jsxs)("div",{className:"relative password-inner-container",children:[Object(n.jsx)(Ie.b,{placeholder:"Password",type:r,name:"password",as:ke.a}),Object(n.jsx)(Ie.a,{name:"password",className:"err-msg"}),!t&&Object(n.jsx)(Ae.a,{onClick:function(){return e.onTogglePassword()}}),t&&Object(n.jsx)(Te.a,{onClick:function(){return e.onTogglePassword()}})]}),Object(n.jsxs)("div",{className:"password-inner-container",children:[Object(n.jsx)(Ie.b,{placeholder:"Confirm password",type:"password",name:"confirm",as:ke.a}),Object(n.jsx)(Ie.a,{name:"confirm",className:"err-msg"})]}),Object(n.jsx)("button",{onClick:function(t){return e.onGetRandomPassword(t)},children:"Get strong password"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ie.b,{placeholder:"Email",type:"email",name:"email",as:ke.a}),Object(n.jsx)(Ie.a,{name:"email",className:"err-msg"})]}),Object(n.jsx)("button",{className:"login-signup-btn",type:"submit",children:"Sign up"})]})}}),Object(n.jsxs)(i.b,{to:"/login",children:["Already have an account? ",Object(n.jsx)("b",{children:"Log in"})]})]})]})})}}]),r}(a.Component),Ee={signup:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.signup(e);case 3:return n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},Le=Object(v.b)((function(e){return{}}),Ee)(Re),Fe=r.p+"static/media/sunday-icon.c383b665.svg",Ge=r(249),Pe=r.n(Ge),Je=r(250),qe=r.n(Je),He=r(40),Ke=r(65),We=r(507),ze=r(513),Ve=r(248),Ye=r.n(Ve),Ze=r(16),Xe=r.n(Ze),$e=r(247),Qe=r.n($e),et=r(246),tt=r.n(et),rt=Object(We.a)((function(e){return{typography:{padding:e.spacing(2)}}}));function nt(e){var t=e.notifications,r=e.onCleanNotifications,a=(e.onUpdateNotifications,rt(),c.a.useState(null)),s=Object(Ke.a)(a,2),o=s[0],i=s[1],u=Boolean(o),l=u?"notifications-popover":void 0;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"relative",children:[t&&Object(n.jsx)("span",{className:"count-notifications",children:t.length}),Object(n.jsx)(tt.a,{"data-tip":!0,"data-for":"notifications","aria-describedby":l,onClick:function(e){i(e.currentTarget)}})]}),Object(n.jsx)(ze.a,{id:l,open:u,anchorEl:o,onClose:function(){i(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},children:Object(n.jsxs)("section",{className:"user-notifications",children:[Object(n.jsx)("header",{className:"flex space-between align-center",children:(null===t||void 0===t?void 0:t.length)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Notifications"}),Object(n.jsx)(Qe.a,{onClick:r})]}):Object(n.jsx)("h1",{children:"You have no notifications"})}),(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e,t){return Object(n.jsxs)("div",{className:"notification-details",children:[Object(n.jsxs)("div",{className:"flex",children:[e.byMember.imgUrl?Object(n.jsx)("img",{src:e.byMember.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("span",{className:"user-thumbnail",children:A.getNameInitials(e.byMember.fullname)}),Object(n.jsx)("p",{children:null===e||void 0===e?void 0:e.notificationTxt})]}),Object(n.jsxs)("div",{className:"time flex",children:[" ",Object(n.jsx)(Ye.a,{}),Object(n.jsx)("h4",{children:Xe()(e.createdAt).from(Date.now())})]})]},t)}))]})}),Object(n.jsx)(He.a,{className:"sunday-tooltip",id:"notifications",place:"right",effect:"solid",children:"Notifications"})]})}var at=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isShowUserNotification:!1},e.onToggleUserNotifications=function(){e.setState({isShowUserNotification:!e.state.isShowUserNotification})},e}return Object(j.a)(r,[{key:"render",value:function(){var e,t=this.props,r=t.onLogOut,a=t.user,c=t.onCleanNotifications,s=(t.onUpdateNotifications,null===(e=a.notifications)||void 0===e?void 0:e.filter((function(e){return!e.isRead})));return Object(n.jsxs)("div",{className:"main-sidebar-inner-container flex column",children:[Object(n.jsxs)("div",{className:"main-side-bar-top flex column align-center",children:[Object(n.jsx)(i.b,{to:"/",children:Object(n.jsx)("img",{className:"sunday-icon",src:Fe,alt:"sunday-logo-icon"})}),Object(n.jsx)(nt,{notifications:s,onCleanNotifications:c}),Object(n.jsx)(i.b,{to:"/user/".concat(a._id,"/general"),children:Object(n.jsx)("div",{className:"greet-user",children:Object(n.jsxs)("span",{children:["Hello ",a.fullname]})})})]}),Object(n.jsxs)("div",{className:"main-side-bar-bottom flex column align-center",children:[Object(n.jsx)(i.b,{to:"/user/".concat(a._id,"/general"),children:Object(n.jsx)(Pe.a,{"data-tip":!0,"data-for":"myAccount"})}),Object(n.jsx)(qe.a,{"data-tip":!0,"data-for":"logOut",onClick:r})]}),Object(n.jsx)(He.a,{className:"sunday-tooltip",id:"myAccount",place:"right",effect:"solid",children:"My Account"}),Object(n.jsx)(He.a,{className:"sunday-tooltip",id:"logOut",place:"right",effect:"solid",children:"Log Out"})]})}}]),r}(a.Component),ct=r(89),st=r.n(ct),ot=r(87),it=r.n(ot),ut=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={txt:""},e.handelChange=function(t){var r=t.target.value;e.setState({txt:r},(function(){return e.props.onSetFilter(e.state.txt)}))},e}return Object(j.a)(r,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("section",{className:"search-field",children:[Object(n.jsx)(it.a,{}),Object(n.jsx)("input",{id:"standard-basic",label:"Search",name:"txt",value:this.state.txt,onChange:this.handelChange,autoComplete:"off",placeholder:"Search Board"})]}),Object(n.jsx)("div",{})]})}}]),r}(a.Component),lt=r(251),dt=r.n(lt),pt=r(514),bt=r(508),ht=r(88),ft=r.n(ht),jt=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={mounted:!1},e.onClose=function(){e.setState({mounted:!1})},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.state.mounted,r=this.props,a=r.title,c=r.type,s=r.id,o=r.arg;return Object(n.jsx)("div",{className:"modal-wrapper",onClick:this.onClose,children:Object(n.jsx)(pt.a,{in:t,classNames:"fade",timeout:200,onExited:this.props.close,children:Object(n.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{children:"Are you sure You want to delete this ".concat(c,"?")}),Object(n.jsx)("p",{children:"(".concat(a,")")}),Object(n.jsxs)("div",{className:"btn-confirm",children:[Object(n.jsx)(bt.a,{onClick:function(){e.onClose(),e.props.delete(s,o)},variant:"contained",color:"secondary",startIcon:Object(n.jsx)(ft.a,{}),children:"Delete"}),Object(n.jsx)(bt.a,{onClick:this.onClose,variant:"contained",color:"default",children:"Cancel"})]})]})})})}}]),r}(a.Component),mt=function(e){var t=e.board,r=e.onDeleteBoard,c=e.user,s=e.idx,o=Object(a.useState)(!1),u=Object(Ke.a)(o,2),l=u[0],d=u[1];return Object(n.jsxs)("div",{className:"board-sidebar-row",children:[Object(n.jsx)(i.b,{to:"/board/".concat(t._id),children:t.title}),c._id===t.createdBy._id&&Object(n.jsx)(ft.a,{onClick:function(){return d(!0)}}),l&&Object(n.jsx)(jt,{id:t._id,arg:s,delete:r,close:function(){return d(!1)},title:t.title,type:"Board"})]})},gt=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isAddBoard:!1,boardTitle:"",isDelete:!1,txt:""},e.onInputChange=function(t){var r=t.target.value;e.setState({boardTitle:r})},e.onAddBoard=function(t){t.preventDefault(),e.state.boardTitle&&(e.props.onAddBoard(e.state.boardTitle),e.setState({isAddBoard:!1,boardTitle:""}))},e.toggleEditBoard=function(){e.setState({isAddBoard:!e.state.isAddBoard})},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this.props,t=e.boards,r=e.onDeleteBoard,a=e.user,c=e.onSetFilter,s=this.state.boardTitle;return Object(n.jsxs)("section",{className:"board-side-bar",children:[Object(n.jsxs)("div",{className:"main-workspace-title flex",children:[Object(n.jsxs)("span",{className:"letter flex",children:[Object(n.jsx)("span",{children:"M"}),Object(n.jsx)(dt.a,{})]}),Object(n.jsx)("span",{children:"Main workspace"})]}),Object(n.jsxs)("div",{className:"board-sidebar-controlles",children:[Object(n.jsx)(ut,{onSetFilter:c}),!this.state.isAddBoard&&Object(n.jsxs)("span",{className:"board-sidebar-action-btn",onClick:this.toggleEditBoard,children:[Object(n.jsx)(st.a,{}),"Add"]}),this.state.isAddBoard&&Object(n.jsx)("form",{onSubmit:this.onAddBoard,children:Object(n.jsx)(ke.a,{placeholder:" Board Name",autoFocus:!0,type:"text",autoComplete:"off",value:s,onChange:this.onInputChange})})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"board-sidebar-title",children:"My boards"}),Object(n.jsx)("div",{children:t.map((function(e,t){return Object(n.jsx)(mt,{idx:t,user:a,board:e,onDeleteBoard:r},e._id)}))})]})]})}}]),r}(a.Component),vt=r(510),Ot=(r(345),r(401),r(252)),xt=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={startDate:null,endDate:null,focusedInput:"startDate"},e.handleChange=function(){var t=e.state,r=t.startDate,n=t.endDate,a=t.focusedInput;(null===r||void 0===r?void 0:r._d)&&(null===n||void 0===n?void 0:n._d)&&e.props.changeDates({startDate:null===r||void 0===r?void 0:r._d,endDate:null===n||void 0===n?void 0:n._d}),!(null===r||void 0===r?void 0:r._d)||(null===n||void 0===n?void 0:n._d)||a||e.props.changeDates({startDate:null===r||void 0===r?void 0:r._d,endDate:null})},e}return Object(j.a)(r,[{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.startDate,a=r.endDate,c=r.focusedInput;!(null===n||void 0===n?void 0:n._d)||(null===a||void 0===a?void 0:a._d)||c||this.props.changeDates({startDate:null===n||void 0===n?void 0:n._d,endDate:null})}},{key:"render",value:function(){var e=this,t=this.props.closeDatePicker;return Object(n.jsxs)("div",{className:"datePicker",children:[Object(n.jsx)(Ot.DayPickerRangeController,{startDate:this.state.startDate,endDate:this.state.endDate,isOutsideRange:function(){return!1},onDatesChange:function(t){var r=t.startDate,n=t.endDate;return e.setState({startDate:r,endDate:n},e.handleChange)},focusedInput:this.state.focusedInput,hideKeyboardShortcutsPanel:!0,onFocusChange:function(t){e.setState({focusedInput:t})}}),Object(n.jsx)("button",{className:"date-btn",onClick:function(){return e.setState({focusedInput:null},t)},children:"Close"})]})}}]),r}(a.Component),yt=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={title:e.props.children,isEdit:!0},e.handleChange=function(t){var r=t.currentTarget.innerText;e.setState({title:r})},e.checkKey=function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Enter"!==r.key&&"blur"!==r.type||(e.setState({isEdit:!1}),n=e.state.title?e.state.title:"New Title",setTimeout((function(){e.setState({isEdit:!0}),e.props.onChangeTitle(n)}),200));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(r,[{key:"render",value:function(){var e=this.state.isEdit;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{onKeyDown:this.checkKey,className:"editable-element",onBlur:this.checkKey,contentEditable:e,suppressContentEditableWarning:!0,spellCheck:"false",onInput:this.handleChange,children:this.props.children})})}}]),r}(a.Component),wt=r(509),Ct=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).changeColor=function(t){var r=e.props,n=r.onChangeColor,a=r.data;a?n(t,a):n(t)},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"edit-colors",children:[Object(n.jsx)("span",{onClick:function(){return e.changeColor("#FF6E6E")},style:{backgroundColor:"#FF6E6E"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#fb275d")},style:{backgroundColor:"#fb275d"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#FF642E")},style:{backgroundColor:"#FF642E"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#037F4C")},style:{backgroundColor:"#037F4C"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#00ca72")},style:{backgroundColor:"#00ca72"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#61BD4F")},style:{backgroundColor:"#61BD4F"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#df5e88")},style:{backgroundColor:"#df5e88"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#ffcc00")},style:{backgroundColor:"#ffcc00"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#41EAD4")},style:{backgroundColor:"#41EAD4"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#e1ccec")},style:{backgroundColor:"#f09ae9"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#dddddd")},style:{backgroundColor:"#dddddd"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#7F5347")},style:{backgroundColor:"#7F5347"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#784BD1")},style:{backgroundColor:"#784BD1"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#0086C0")},style:{backgroundColor:"#0086C0"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#0085ff")},style:{backgroundColor:"#0085ff"}}),Object(n.jsx)("span",{onClick:function(){return e.changeColor("#3D315B")},style:{backgroundColor:"#3D315B"}})]})}}]),r}(a.Component),kt=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currLabel:null,isOpen:!1,isAddLabelOpen:!1,isColorPalletteOpen:!1,showAddLabelError:!1,newLabel:{text:"",color:null}},e.toggleMenu=function(){var t=e.state.isOpen;e.setState({isOpen:!t})},e.toggleAddNewLabel=function(){var t=e.state.isAddLabelOpen;e.setState({isAddLabelOpen:!t})},e.toggleAddLabelError=function(){e.setState({showAddLabelError:!0},(function(){setTimeout((function(){e.setState({showAddLabelError:!1})}),1500)}))},e.setCurrLabel=function(t){e.props.currLabel.text!==t.text?e.setState({currLabel:t},(function(){e.props.onSaveLabel(t,e.props.labelName),e.toggleMenu()})):e.toggleMenu()},e.setNewLabelColor=function(t){var r=e.state.newLabel;r.color=t,e.setState({newLabel:r})},e.addLabel=function(t){t.preventDefault();var r=e.props,n=r.onAddLabel,a=r.labelGroup,c=e.state.newLabel;c.text&&c.color?(n(c,a),e.toggleAddNewLabel()):e.toggleAddLabelError()},e.handleInput=function(t){var r=t.target,n=r.name,a=r.value,c=e.state.newLabel;c[n]=a,e.setState({newLabel:c})},e}return Object(j.a)(r,[{key:"componentWillUnmount",value:function(){this.setState({newLabel:{text:"",color:null}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.labels,a=t.currLabel,c=t.enableAdding,s=this.state,o=s.isAddLabelOpen,i=s.isOpen,u=s.showAddLabelError,l=s.newLabel;return Object(n.jsxs)("div",{className:"labels-menu-container",children:[Object(n.jsxs)("div",{className:"labels-menu-chosen-item",onClick:this.toggleMenu,style:{backgroundColor:a.color},children:[a.text,Object(n.jsx)("span",{className:"fold"})]}),i&&Object(n.jsx)(wt.a,{onClickAway:this.toggleMenu,children:Object(n.jsxs)("div",{onBlur:this.toggleMenu,className:"labels-menu-floating-container",children:[Object(n.jsxs)("div",{className:"labels-grid",children:[r.map((function(t,r){return Object(n.jsx)("div",{className:"labels-menu-item",onClick:function(){return e.setCurrLabel(t)},style:{backgroundColor:t.color},children:t.text},r)})),c&&Object(n.jsxs)("div",{className:"labels-menu-item new-label",onClick:this.toggleAddNewLabel,children:["Add ",this.props.labelName]})]}),o&&c&&Object(n.jsxs)("div",{className:"add-new-label-container",children:[Object(n.jsxs)("div",{className:"flex space-between",children:[Object(n.jsx)("span",{onClick:this.toggleAddNewLabel,children:"Cancel"}),Object(n.jsx)("span",{onClick:this.addLabel,children:"Save"})]}),Object(n.jsxs)("form",{onSubmit:this.addLabel,className:"relative",children:[Object(n.jsx)("span",{style:{backgroundColor:"".concat(l.color?l.color:"")},className:"color-preview"}),Object(n.jsx)(ke.a,{name:"text",autoComplete:"off",placeholder:u?"Please enter label + color":"Enter label",onChange:this.handleInput})]}),Object(n.jsx)(Ct,{onChangeColor:this.setNewLabelColor})]})]})})]})}}]),r}(a.Component),St=function(){return Object(n.jsx)("svg",{id:"Capa_1",enableBackground:"new 0 0 511.072 511.072",height:"512",viewBox:"0 0 511.072 511.072",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("g",{id:"Speech_Bubble_48_",children:Object(n.jsx)("g",{children:Object(n.jsx)("path",{d:"m74.39 480.536h-36.213l25.607-25.607c13.807-13.807 22.429-31.765 24.747-51.246-36.029-23.644-62.375-54.751-76.478-90.425-14.093-35.647-15.864-74.888-5.121-113.482 12.89-46.309 43.123-88.518 85.128-118.853 45.646-32.963 102.47-50.387 164.33-50.387 77.927 0 143.611 22.389 189.948 64.745 41.744 38.159 64.734 89.63 64.734 144.933 0 26.868-5.471 53.011-16.26 77.703-11.165 25.551-27.514 48.302-48.593 67.619-46.399 42.523-112.042 65-189.83 65-28.877 0-59.01-3.855-85.913-10.929-25.465 26.123-59.972 40.929-96.086 40.929zm182-420c-124.039 0-200.15 73.973-220.557 147.285-19.284 69.28 9.143 134.743 76.043 175.115l7.475 4.511-.23 8.727c-.456 17.274-4.574 33.912-11.945 48.952 17.949-6.073 34.236-17.083 46.99-32.151l6.342-7.493 9.405 2.813c26.393 7.894 57.104 12.241 86.477 12.241 154.372 0 224.682-93.473 224.682-180.322 0-46.776-19.524-90.384-54.976-122.79-40.713-37.216-99.397-56.888-169.706-56.888z"})})})})},Nt=r(253),Dt=r.n(Nt),Bt=r(126),Ut=r.n(Bt);function _t(e){var t=e.boardMembers,r=e.cardMembers,a=e.changeTaskMembers,c=e.onCloseModal;return Object(n.jsx)(wt.a,{onClickAway:c,children:Object(n.jsxs)("div",{className:"members-modal-basic",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"members-modal-task-members-title",children:"Task Members"}),r.map((function(e){return Object(n.jsxs)("div",{className:"flex align-center space-between member-row",children:[Object(n.jsx)(i.b,{to:"/user/".concat(e._id,"/general"),children:Object(n.jsxs)("div",{className:"flex align-center",children:[e.imgUrl?Object(n.jsx)("img",{src:e.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("h5",{className:"user-thumbnail ",children:A.getNameInitials(e.fullname)}),Object(n.jsx)("span",{className:"modal-user-full-name",children:e.fullname})]})}),Object(n.jsx)(Ut.a,{onClick:function(){return a(e._id,"remove")},className:"remove-icon"})]},e._id)}))]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Board Members"}),t.map((function(e){return Object(n.jsxs)("div",{className:"flex align-center space-between member-row",children:[Object(n.jsx)(i.b,{to:"/user/".concat(e._id,"/general"),children:Object(n.jsxs)("div",{className:"flex align-center",children:[e.imgUrl?Object(n.jsx)("img",{src:e.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("h5",{className:"user-thumbnail",children:A.getNameInitials(e.fullname)}),Object(n.jsx)("span",{className:"modal-user-full-name",children:e.fullname})]})}),Object(n.jsx)(st.a,{onClick:function(){return a(e._id,"add")},className:"remove-icon"})]},e._id)}))]})]})})}var Mt=r(64),It=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e.checkDueDate=function(t,r){var n=new Date(t).getTime(),a=(new Date).getTime(),c=new Date(r).getTime();if(t&&r&&n>a)return 0;if(!r&&t&&n>a){var s=e.props.createdAt,o=Math.abs(a-s);return Math.round(100*o/n)}if(!r&&t&&n<a)return 100;var i=Math.abs(a-n),u=Math.abs(c-n);return Math.round(100*i/u)},e}return Object(j.a)(r,[{key:"render",value:function(){var e,t=this.props,r=t.startDate,a=t.endDate,c=t.groupColor,s=t.onOpenPicker,o=new Date(r).getMonth(),i=new Date(r).getDate(),u=A.getNameOfMonth(o)+" "+i,l=new Date(a).getMonth(),d=new Date(a).getDate(),p=A.getNameOfMonth(l)+" "+d,b=a?u+" - "+p:u;return r||a?e=this.checkDueDate(r,a):(b="Choose Date",e=0),Object(n.jsx)("div",{onClick:s,className:"progressbar-container",style:{backgroundColor:"rgb(121 115 115)"},children:Object(n.jsx)("div",{className:"inner-progressbar",style:{backgroundColor:c,width:e+"%"},children:Object(n.jsx)("span",{style:{color:"#c7c1c1"===c?" #333333":"#f9f9f9"},children:b})})})}}]),r}(a.Component),At=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isShowMembers:!1,isShowDate:!1,isDelete:!1},e.onChangeTitle=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.board,c=n.changeCardTitle,s=n.group,o=n.card,i=n.loggedInUser,t.next=3,c({board:Object(h.a)({},a),groupId:s.id,cardToUpdate:o,cardTitle:r,user:i});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onShowConfirmModal=function(){e.setState({isDelete:!0})},e.onDeleteCard=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.board,s=a.deleteCard,o=a.loggedInUser,t.next=3,s({groupId:n.id,board:c,cardId:r,user:o});case 3:e.props.setMsg("Card  Successfully Removed");case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.changeTaskMembers=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s,o,i,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.changeTaskMembers,s=a.board,o=a.group,i=a.card,u=a.loggedInUser,t.next=3,c(r,n,Object(h.a)({},s),i,o.id,u);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.changeDates=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,a=n.changeCardDates,c=n.board,s=n.group,o=n.card,i=n.loggedInUser,r.startDate&&r.endDate?a(r,Object(h.a)({},c),s.id,o,i):r.endDate||a(r,Object(h.a)({},c),s.id,o.id,i),e.closeDatePicker();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleMembersModal=function(){var t=e.state.isShowMembers;e.setState({isShowMembers:!t})},e.changeCardLabels=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s,o,i,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.changeCardLabels,s=a.board,o=a.group,i=a.card,u=a.loggedInUser,t.next=3,c(Object(h.a)({},s),i,o.id,r,n,u);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.addCardLabel=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.addCardLabel,s=a.board,o=a.group,t.next=3,c(Object(h.a)({},s),o.id,r,n);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.closeDatePicker=function(){e.setState({isShowDate:!1})},e.checkWorkingDays=function(){var t,r,n=e.props.card.dueDate,a=n.endDate,c=n.startDate;if(c&&!a){if(new Date(c)<new Date)return"--";r=new Date(c)-new Date,t=Math.abs(Math.ceil(r/864e5))}else a||c?(r=new Date(c)-new Date(a),t=Math.abs(Math.ceil(r/864e5))):t="--";return t},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.card,a=t.group,c=t.board,s=t.idx,o=c.members.filter((function(e){return!r.members.length||!r.members.find((function(t){return t._id===e._id}))})),u=this.state,l=u.isShowMembers,d=u.isShowDate,p=r.members.length>2?r.members.slice(0,2):r.members;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Mt.b,{draggableId:r.id,index:s,children:function(t,s){return Object(n.jsxs)("div",Object(h.a)(Object(h.a)(Object(h.a)({className:"card-preview"},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:[Object(n.jsx)("div",{style:{backgroundColor:a.style.color}}),Object(n.jsxs)("div",{className:"card-title",children:[Object(n.jsx)(yt,{onChangeTitle:e.onChangeTitle,children:r.title}),Object(n.jsx)(vt.a,{onClick:e.onShowConfirmModal})]}),Object(n.jsx)("div",{children:Object(n.jsx)(i.b,{to:"/board/".concat(c._id,"/card/").concat(r.id),children:Object(n.jsx)(St,{})})}),Object(n.jsxs)("div",{className:"card-members relative",onClick:e.toggleMembersModal,children:[r.members.length>=3&&Object(n.jsxs)("span",{className:"members-count-badge",children:[" ","+".concat(r.members.length-2)]}),Object(n.jsxs)("div",{className:"flex justify-center align-center ".concat(r.members.length>=2?"multiple-members-display":""),children:[!p.length&&Object(n.jsx)(Dt.a,{className:"member-empty-avatar"}),p.map((function(e){return e.imgUrl?Object(n.jsx)("img",{src:e.imgUrl,className:"user-thumbnail",alt:""},e._id):Object(n.jsx)("h5",{style:{backgroundColor:a.style.color},className:"user-thumbnail",children:A.getNameInitials(e.fullname).toUpperCase()},e._id)}))]}),l&&Object(n.jsx)(_t,{boardMembers:o,cardMembers:r.members,changeTaskMembers:e.changeTaskMembers,onCloseModal:e.toggleMembersModal})]}),Object(n.jsxs)("div",{className:"card-status",children:[r.status.label,Object(n.jsx)(kt,{onAddLabel:e.addCardLabel,enableAdding:!0,onSaveLabel:e.changeCardLabels,labelName:"status",labelGroup:"statuses",labels:a.statuses,currLabel:r.status})]}),Object(n.jsx)(wt.a,{onClickAway:e.closeDatePicker,children:Object(n.jsxs)("div",{className:"dateRange-container",onClick:function(){return e.setState({isShowDate:!0})},children:[Object(n.jsx)(It,{startDate:r.dueDate.startDate,endDate:r.dueDate.endDate,status:r.status,createdAt:r.createdAt,groupColor:a.style.color}),d&&Object(n.jsx)(xt,{changeDates:e.changeDates,closeDatePicker:e.closeDatePicker,cardId:r.id})]})}),Object(n.jsx)("div",{className:"card-workingDays",children:e.checkWorkingDays()}),Object(n.jsx)("div",{className:"card-priority",children:Object(n.jsx)(kt,{onSaveLabel:e.changeCardLabels,enableAdding:!1,labelName:"priority",labels:a.priorities,currLabel:r.priority})}),Object(n.jsx)("div",{className:"card-closer"})]}))}}),this.state.isDelete&&Object(n.jsx)(jt,{id:r.id,arg:a,delete:this.onDeleteCard,close:function(){return e.setState({isDelete:!1})},title:r.title,type:"Card"})]})}}]),r}(a.Component),Tt={changeCardTitle:function(e){return Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.changeCardTitle(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))},deleteCard:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.deleteCard(e);case 3:n=t.sent,r({type:"SET_CURR_BOARD",board:n}),t.next=13;break;case 8:throw t.prev=8,t.t0=t.catch(0),a={type:"SET_CURR_BOARD",board:e.board},r(a),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},loadBoards:ye,changeTaskMembers:function(e,t,r,n,a,c){return Object(p.a)(d.a.mark((function s(){var o,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Q.updateTaskMembers(e,t,r,n,a,c);case 3:return o=s.sent,s.next=6,R.updateNotifications(o);case 6:i=s.sent,y.emit("onUpdateUser",i),s.next=12;break;case 10:s.prev=10,s.t0=s.catch(0);case 12:case"end":return s.stop()}}),s,null,[[0,10]])})))},changeCardDates:function(e,t,r,n,a){return function(){var c=Object(p.a)(d.a.mark((function c(s){var o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Q.changeCardDates(e,t,r,n,a);case 3:o=c.sent,s({type:"SET_CURR_BOARD",board:o}),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(0),s({type:"SET_CURR_BOARD",board:t}),c.t0;case 13:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()},changeCardLabels:function(e,t,r,n,a,c){return function(){var s=Object(p.a)(d.a.mark((function s(o){var i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Q.changeCardLabels(e,t,r,n,a,c);case 3:i=s.sent,o({type:"SET_CURR_BOARD",board:i}),s.next=13;break;case 8:throw s.prev=8,s.t0=s.catch(0),o({type:"SET_CURR_BOARD",board:e}),s.t0;case 13:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()},addCardLabel:function(e,t,r,n){return function(){var a=Object(p.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Q.addCardLabel(e,t,r,n);case 3:s=a.sent,c({type:"SET_CURR_BOARD",board:s}),a.next=13;break;case 8:throw a.prev=8,a.t0=a.catch(0),c({type:"SET_CURR_BOARD",board:e}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},setMsg:V},Rt=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser,board:e.boardReducer.board}}),Tt)(At),Et=r(515),Lt=r(516),Ft=r(511),Gt=r(254),Pt=r.n(Gt),Jt=r(255),qt=r.n(Jt),Ht=r(256),Kt=r.n(Ht),Wt=r(257),zt=r.n(Wt),Vt=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={cardTitle:"",placeholder:"+ Add",isMenuShown:!1,isMenuOnHover:!1,isShowColors:!1,sortGroupBy:"",isShowSortOptions:!1,isSortActive:!1,isDelete:!1,isShowSortModal:!1},e.handleChange=function(t){var r=t.target.value;e.setState({cardTitle:r})},e.onAddCard=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.props,a=n.onAddCard,c=n.group,e.state.cardTitle&&e.state.cardTitle.replace(/\s/g,"").length){t.next=6;break}return e.setState({placeholder:"Activity required",cardTitle:""}),setTimeout((function(){return e.setState({placeholder:"+Add Activity"})}),1e3),t.abrupt("return");case 6:a(e.state.cardTitle,c.id),e.setState({cardTitle:""});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeTitle=function(t){var r=e.props,n=r.group;(0,r.onChangeGroupTitle)(t,n.id)},e.onToggleMenu=function(){e.setState({isMenuShown:!e.state.isMenuShown},(function(){e.state.isShowColors&&e.toggleColorPallette()}))},e.toggleMenuHover=function(t){e.setState({isMenuOnHover:t})},e.toggleColorPallette=function(){e.setState({isShowColors:!e.state.isShowColors})},e.onShowMemuOption=function(){e.setState({isShowSortOptions:!e.state.isShowSortOptions})},e.onSetGroupSort=function(t){e.setState({sortGroupBy:t,isSortActive:!0,isShowSortModal:!1})},e.onToggleMenuSort=function(){e.setState({isShowSortModal:!e.state.isShowSortModal})},e.getGroupForDisplay=function(){var t,r=e.state.sortGroupBy,n=e.props,a=n.group,c=n.onDrag,s=JSON.parse(JSON.stringify(a));return r&&!c&&(t="name"===r?Q.sortByTitle(s.cards):Q.sortCardByDate(s.cards),s.cards=t),s},e.onChangeGroupColor=function(t,r){var n=e.props.onChangeGroupColor;e.setState({isShowColors:!1,isMenuShown:!1},(function(){n(t,r)}))},e.onShowConfirmModal=function(){e.setState({isDelete:!0,isMenuShown:!1})},e}return Object(j.a)(r,[{key:"componentDidUpdate",value:function(e,t){!e.onDrag&&this.props.onDrag&&this.setState({sortGroupBy:""})}},{key:"render",value:function(){var e=this,t=this.props,r=t.onDeleteCard,a=t.onRemoveGroup,c=t.idx,s=t.onDrag?this.props.group:this.getGroupForDisplay(),o=this.countStatus,i=s.style.color,u=this.state.isMenuOnHover;return Object(n.jsx)(Mt.b,{draggableId:s.id,index:c,children:function(t){return Object(n.jsxs)("div",Object(h.a)(Object(h.a)({className:"group-container flex column"},t.draggableProps),{},{ref:t.innerRef,children:[Object(n.jsxs)("div",{className:"group-header",children:[Object(n.jsx)(Pt.a,{onMouseEnter:function(){return e.toggleMenuHover(!0)},onMouseLeave:function(){return e.toggleMenuHover(!1)},className:"group-menu-icon",style:{backgroundColor:u?"#f9f9f9":i,color:u?i:"#f9f9f9",border:"1px solid ".concat(i)},onClick:e.onToggleMenu}),e.state.isMenuShown&&Object(n.jsx)(wt.a,{onClickAway:e.onToggleMenu,children:Object(n.jsxs)(Et.a,{className:"group-modal",children:[Object(n.jsxs)(Lt.a,{onClick:e.toggleColorPallette,children:[Object(n.jsx)(Ft.a,{children:Object(n.jsx)(qt.a,{className:"btn-change-group-color"})}),Object(n.jsx)("span",{children:" Change Group Color"})]}),Object(n.jsxs)(Lt.a,{onClick:e.onShowConfirmModal,children:[Object(n.jsx)(Ft.a,{children:Object(n.jsx)(ft.a,{className:"group-modal-icon"})}),Object(n.jsx)("span",{children:"Delete Group"})]}),Object(n.jsxs)(Lt.a,{onClick:e.onToggleMenuSort,className:"relative",children:[Object(n.jsx)(Ft.a,{children:Object(n.jsx)(Kt.a,{className:"group-modal-icon"})}),Object(n.jsx)("span",{children:"Sort By"})]}),e.state.isShowSortModal&&Object(n.jsx)(wt.a,{onClickAway:e.onToggleMenuSort,children:Object(n.jsxs)(Et.a,{className:"group-sort-modal",children:[Object(n.jsx)(Lt.a,{onClick:function(){e.onSetGroupSort("date")},children:Object(n.jsx)(Ft.a,{children:Object(n.jsx)("span",{children:"Date"})})}),Object(n.jsx)(Lt.a,{onClick:function(){return e.onSetGroupSort("name")},children:Object(n.jsx)(Ft.a,{children:Object(n.jsx)("span",{children:"Name"})})})]})}),e.state.isShowColors&&Object(n.jsx)(wt.a,{onClickAway:e.toggleColorPallette,children:Object(n.jsx)(Ct,{onChangeColor:e.onChangeGroupColor,data:s.id})})]})}),e.state.isDelete&&Object(n.jsx)(jt,{id:s,delete:a,close:function(){return e.setState({isDelete:!1})},title:s.title,type:"Group"}),Object(n.jsx)("div",Object(h.a)(Object(h.a)({className:"drag-icon"},t.dragHandleProps),{},{children:Object(n.jsx)(zt.a,{})})),Object(n.jsx)("h2",{style:{color:s.style.color},children:Object(n.jsx)(yt,{onChangeTitle:e.onChangeTitle,children:s.title})}),Object(n.jsx)("h4",{children:"Members"}),Object(n.jsx)("h4",{children:"Status"}),Object(n.jsx)("h4",{onClick:function(){e.onSetGroupSort("date")},style:{cursor:"pointer"},"data-tip":!0,"data-for":"sort-by-date",children:"Date range"}),Object(n.jsx)("h4",{children:"Working Days"}),Object(n.jsx)("h4",{children:"Priority"}),Object(n.jsx)(He.a,{className:"sunday-tooltip",id:"sort-by-date",place:"top",effect:"solid",children:"Sort By Date"})]}),Object(n.jsx)(Mt.c,{droppableId:s.id,isCombineEnabled:!0,type:"card",children:function(t){return Object(n.jsxs)("div",Object(h.a)(Object(h.a)(Object(h.a)({},t.dragHandleProps),t.droppableProps),{},{ref:t.innerRef,children:[t.placeholder,s.cards.map((function(t,a){return Object(n.jsx)(Rt,{card:t,idx:a,group:s,onDeleteCard:r,cardColor:e.state.cardColor},t.id)}))]}))}}),Object(n.jsxs)("div",{className:"group-bottom-section-input",children:[Object(n.jsx)("div",{style:{backgroundColor:s.style.color}}),Object(n.jsx)("form",{onSubmit:e.onAddCard,children:Object(n.jsx)("input",{className:"add-card-input",type:"text",placeholder:e.state.placeholder,name:"activity",autoComplete:"off",value:e.state.cardTitle,onChange:e.handleChange})}),Object(n.jsx)("div",{style:{backgroundColor:"#E6E9EF"}})]}),Object(n.jsx)("div",{className:"group-bottom-section-utils",children:Object(n.jsx)("div",{className:"progress-status",children:Object.keys(o).map((function(e,t){var r=A.makeId();return Object(n.jsx)("div",{style:{width:o[e].count+"%",background:o[e].color},"data-tip":!0,"data-for":r,children:Object(n.jsx)(He.a,{className:"sunday-tooltip",id:r,place:"bottom",effect:"solid",children:Object(n.jsxs)("span",{className:"tool-tip-txt",children:[" ","".concat(e," ").concat(Math.floor(o[e].count),"% ").concat(Math.ceil(o[e].count*s.cards.length/100),"/").concat(s.cards.length)]})})},t)}))})})]}))}})}},{key:"countStatus",get:function(){var e=this.getGroupForDisplay(),t=e.cards.reduce((function(e,t){return e[t.status.text]=e[t.status.text]?{color:t.status.color,count:e[t.status.text].count+1}:{color:t.status.color,count:1},e}),{});return Object.keys(t).forEach((function(r){t[r].count=Math.round(t[r].count/e.cards.length*100)})),t}}]),r}(a.Component),Yt=r(261),Zt=r.n(Yt);function Xt(e){var t=e.labels,r=e.onSetFilterLabels,a=e.content;return Object(n.jsx)("div",{children:Object.keys(t).map((function(e,c){return Object(n.jsxs)("div",{"data-tip":!0,"data-for":"".concat(a).concat(e),className:"item ".concat(t[e].isSelect?"selected":""),onClick:function(){return r(a,e)},children:[Object(n.jsx)("span",{className:"status-circle",style:{background:t[e].color}}),Object(n.jsx)("span",{children:e}),Object(n.jsx)(He.a,{className:"sunday-tooltip",id:"".concat(a).concat(e),place:"bottom",effect:"solid",children:"".concat(a.charAt(0).toUpperCase()+a.substring(1)," is ").concat(e)})]},c)}))})}var $t=r(258),Qt=r.n($t),er=r(259),tr=r.n(er),rr=r(260),nr=r.n(rr),ar=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:{txt:"",membersId:[],status:[],priority:[],sortBy:"",statusesForDisplay:null,priorityForDisplay:null},isShowMenuFilter:!1,isMobileFiltersOpen:!1},e.handelChange=function(t){var r=t.target.value,n=Object(h.a)({},e.state.filterBy);n[t.target.name]=r,e.setState({filterBy:n},(function(){return e.props.onSetFilter(e.state.filterBy)}))},e.cleanInput=function(){var t=Object(h.a)({},e.state.filterBy);t.txt="",e.setState({filterBy:t},(function(){return e.props.onSetFilter(Object(h.a)({},e.state.filterBy))}))},e.onCloseFilterMenu=function(){e.setState({isShowMenuFilter:!e.state.isShowMenuFilter})},e.onSetFilterLabels=function(t,r){var n=Object(h.a)({},e.state.filterBy);if(n[t].includes(r)){var a=n[t].filter((function(e){return e!==r}));n[t]=a}else n[t]=[].concat(Object(w.a)(n[t]),[r]);var c=Object(h.a)({},e.state.statusesForDisplay),s=Object(h.a)({},e.state.priorityForDisplay);"status"===t&&(c[r].isSelect=!e.state.statusesForDisplay[r].isSelect),"priority"===t&&(s[r].isSelect=!e.state.priorityForDisplay[r].isSelect),e.setState({filterBy:n,statusesForDisplay:c,priorityForDisplay:s},(function(){return e.props.onSetFilter(Object(h.a)({},e.state.filterBy))}))},e.onSetFilter=function(t){var r=t.target,n=r.value,a=r.name,c=Object(h.a)({},e.state.filterBy);c[a]=n,e.setState({filterBy:c},(function(){return e.props.onSetFilter(Object(h.a)({},e.state.filterBy))}))},e.onGetMember=function(t){var r=Object(h.a)({},e.state.filterBy);if(r.membersId.includes(t)){var n=r.membersId.filter((function(e){return e!==t}));r.membersId=n}else r.membersId=[].concat(Object(w.a)(r.membersId),[t]);e.setState({filterBy:r},(function(){return e.props.onSetFilter(Object(h.a)({},e.state.filterBy))}))},e.toggleMobileFilters=function(){var t=e.state.isMobileFiltersOpen;e.setState({isMobileFiltersOpen:!t})},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.setStatuses()}},{key:"componentDidUpdate",value:function(e,t){e.board!==this.props.board&&this.setStatuses()}},{key:"setStatuses",value:function(){for(var e=this,t=this.props.board,r=function(r){a={};var n=0===r?"statuses":"priorities";t.groups.forEach((function(e){var t=e[n].reduce((function(e,t){return e[t.text]={color:t.color,isSelect:!1},e}),{});a=Object(h.a)(Object(h.a)({},a),t)})),0===r?e.setState({statusesForDisplay:a}):e.setState({priorityForDisplay:a})},n=0;n<2;n++){var a;r(n)}}},{key:"render",value:function(){var e=this,t=this.state,r=t.isShowMenuFilter,a=t.statusesForDisplay,s=t.priorityForDisplay,o=t.isMobileFiltersOpen;if(!a||!s)return null;var i=Object(n.jsxs)("section",{className:"board-filter",children:[Object(n.jsxs)("div",{className:"search-field",children:[Object(n.jsx)(it.a,{}),Object(n.jsx)("input",{type:"text",placeholder:"Search",name:"txt",value:this.state.filterBy.txt,onChange:this.handelChange,autoComplete:"off"})]}),Object(n.jsxs)("span",{className:"clickable-filter-category",onClick:this.onCloseFilterMenu,children:[Object(n.jsx)(Qt.a,{})," Filter"]}),r&&Object(n.jsx)(wt.a,{onClickAway:this.onCloseFilterMenu,children:Object(n.jsx)("div",{className:"relative",children:Object(n.jsxs)("section",{className:"groups-filter",children:[Object(n.jsx)("div",{className:"status-filter",children:Object(n.jsxs)("div",{className:"option-continer",children:[Object(n.jsx)("h3",{children:"Status"}),Object(n.jsx)(Xt,{onSetFilterLabels:this.onSetFilterLabels,content:"status",labels:a})]})}),Object(n.jsx)("div",{className:"member-filter",children:Object(n.jsxs)("div",{className:"option-continer",children:[Object(n.jsx)("h3",{children:"Member"}),this.props.board.members.map((function(t){return Object(n.jsxs)("div",{className:"item",onClick:function(){return e.onGetMember(t._id)},"data-tip":!0,"data-for":t.fullname,children:[t.imgUrl?Object(n.jsx)("img",{className:"user-thumbnail",src:t.imgUrl,alt:""}):Object(n.jsx)("h5",{className:"user-thumbnail",children:A.getNameInitials(t.fullname).toUpperCase()}),Object(n.jsx)("span",{children:t.fullname}),Object(n.jsx)(He.a,{className:"sunday-tooltip",id:t.fullname,place:"bottom",effect:"solid",children:"Member is ".concat(t.fullname)})]},t._id)}))]})}),Object(n.jsx)("div",{className:"priority-filter",children:Object(n.jsxs)("div",{className:"option-continer",children:[Object(n.jsx)("h3",{children:"Priority"}),Object(n.jsx)(Xt,{onSetFilterLabels:this.onSetFilterLabels,content:"priority",labels:s})]})})]})})}),Object(n.jsxs)("div",{className:"clickable-filter-category select-with-icon",children:[Object(n.jsxs)("select",{className:"clickable-filter-category",onChange:this.onSetFilter,name:"sortBy",children:[Object(n.jsx)("option",{value:"sort",children:"Sort"}),Object(n.jsx)("option",{value:"name",children:"Name"}),Object(n.jsx)("option",{value:"date",children:"Date"})]}),Object(n.jsx)(tr.a,{})]})]});return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("div",{className:"board-filter-wrapper-desktop",children:i}),o&&Object(n.jsx)(wt.a,{onClickAway:this.toggleMobileFilters,children:Object(n.jsx)("div",{className:"board-filter-wrapper-mobile",children:i})}),Object(n.jsx)("div",{className:"filter-menu-mobile",children:Object(n.jsx)(nr.a,{onClick:this.toggleMobileFilters})})]})}}]),r}(a.Component),cr=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={users:[]},e.onSetFilter=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return e.setState({users:[]}),t.abrupt("return");case 3:return n=e.props,a=n.board,c=n.query,t.next=6,c(r);case 6:s=t.sent,o=s.filter((function(e){return!a.members.find((function(t){return t._id===e._id}))})),e.setState({users:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeBoardMemebrs=function(t,r){var n=e.state.users.filter((function(e){return e._id!==t._id}));e.setState({users:n},(function(){e.props.onChangeBoardMemebrs(t,r)}))},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.board,a=t.onChangeBoardMemebrs,c=t.onCloseModalMembers,s=this.state.users;return Object(n.jsx)(wt.a,{onClickAway:c,children:Object(n.jsxs)("div",{className:"members-modal-basic",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Add users to this board"}),Object(n.jsx)("div",{children:Object(n.jsx)(ut,{onSetFilter:this.onSetFilter})}),s.map((function(t){return Object(n.jsxs)("div",{className:"flex align-center space-between member-row",children:[Object(n.jsx)(i.b,{to:"/user/".concat(t._id,"/general"),children:Object(n.jsxs)("div",{className:"flex align-center space-between",children:[t.imgUrl?Object(n.jsx)("img",{src:t.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("span",{className:"user-thumbnail",children:A.getNameInitials(t.fullname)}),Object(n.jsx)("span",{className:"modal-user-full-name",children:t.fullname})]})}),Object(n.jsx)(st.a,{onClick:function(){return e.onChangeBoardMemebrs(t,"add")},className:"remove-icon"})]},t._id)}))]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Board Members"}),r.members.map((function(e){return Object(n.jsxs)("div",{className:"flex align-center space-between member-row",children:[Object(n.jsx)(i.b,{to:"/user/".concat(e._id,"/general"),children:Object(n.jsxs)("div",{className:"flex align-center space-between",children:[e.imgUrl?Object(n.jsx)("img",{src:e.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("span",{className:"user-thumbnail",children:A.getNameInitials(e.fullname)}),Object(n.jsx)("span",{className:"modal-user-full-name",children:e.fullname})]})}),Object(n.jsx)(Ut.a,{onClick:function(){return a(e._id,"remove")},className:"remove-icon"})]},e._id)}))]})]})})}}]),r}(a.Component),sr={query:function(e){return Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.getUsers(e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))}},or=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),sr)(cr),ir=function(e){var t=e.activityFilterText,r=e.activities,a=e.content,c=e.user,s=e.title,o=e.clear,u=e.handleChange;return Object(n.jsxs)("div",{children:[s&&Object(n.jsxs)("div",{className:"activity-filter",children:[Object(n.jsxs)("h2",{className:"activities-board-title",children:[Object(n.jsx)("span",{children:s})," Activities"]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"search-field relative",children:[Object(n.jsx)(it.a,{}),Object(n.jsx)("input",{value:t,type:"text",name:"activity",placeholder:"search",autoComplete:"off",onChange:u})]}),Object(n.jsx)("button",{onClick:o,children:"Clear"})]})]}),Object(n.jsx)("span",{children:a}),Object(n.jsx)("div",{className:"activity-list",children:r.map((function(e){return Object(n.jsxs)("div",{className:"activity",children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)(i.b,{to:"/user/".concat(e.byMember._id),children:["  ",e.byMember.imgUrl?Object(n.jsx)("img",{src:e.byMember.imgUrl,className:"user-thumbnail",alt:"avatar"}):Object(n.jsx)("div",{className:"user-thumbnail",children:e.byMember.imgUrl?Object(n.jsx)("img",{src:e.byMember.imgUrl,alt:"avatar"}):A.getNameInitials(e.byMember.fullname)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:e.byMember.fullname}),Object(n.jsx)("h4",{children:Xe()(e.createdAt).from(Date.now())})]})]}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{children:"".concat(e.byMember.fullname===c.fullname?"You":e.byMember.fullname," ").concat(e.txt)})})]},e.id)}))})]})},ur=r(90),lr=r.n(ur),dr=function(e){var t=e.board,r=e.onAddGroup,c=e.onChangeTitle,s=e.onChangeBoardMemebrs,o=e.onSetFilter,i=e.changeBoardView,u=e.user,l=Object(a.useState)(!1),d=Object(Ke.a)(l,2),p=d[0],b=d[1],h=Object(a.useState)(!1),f=Object(Ke.a)(h,2),j=f[0],m=f[1],g=Object(a.useState)(""),v=Object(Ke.a)(g,2),O=v[0],x=v[1],y=function(){b(!p)},w=function(){m(!j),Q.updateActivities(t)},C=Object(a.useMemo)((function(){var e=t.activities,r=new RegExp(O,"i");return e.filter((function(e){return r.test(e.txt)||r.test(e.byMember.fullname)}))}),[t,O]),k=Object(a.useMemo)((function(){return C.filter((function(e){return!e.isRead}))}),[C]),S=Object(a.useMemo)((function(){return C.filter((function(e){return e.isRead}))}),[C]);return t?Object(n.jsxs)("section",{className:"board-header flex column space-between",children:[Object(n.jsxs)("div",{className:"flex align-center board-header-top-section",children:[Object(n.jsxs)("div",{className:"board-name-and-owner",children:[Object(n.jsx)("h2",{children:Object(n.jsx)(yt,{onChangeTitle:c,children:t.title})}),Object(n.jsxs)("h4",{children:["","Owner :",t.createdBy.fullname]})]}),Object(n.jsxs)("div",{className:"flex space-between relative",children:[Object(n.jsxs)("span",{className:"board-member-status top-section-item","data-tip":!0,"data-for":"members",onClick:y,children:[" ",Object(n.jsx)(Zt.a,{}),"/",t.members.length]}),p&&Object(n.jsx)(or,{board:t,onChangeBoardMemebrs:s,onCloseModalMembers:y}),Object(n.jsxs)("span",{className:"activity-display top-section-item",onClick:function(){return m(!0)},children:["Activities",Object(n.jsx)("span",{style:{color:k.length?"#0085ff":""},children:k.length}),"/",t.activities.length]}),Object(n.jsx)("div",{className:"".concat(j?"close-Activities":""),onClick:w}),Object(n.jsxs)("div",{className:"activities ".concat(j?"open":""),children:[Object(n.jsx)(lr.a,{onClick:w}),Object(n.jsx)(ir,{activityFilterText:O,handleChange:function(e){return x(e.target.value)},activities:k,user:u,clear:function(){return Q.updateActivities(t,!0)},title:t.title,content:"New Activities: ".concat(k.length)}),Object(n.jsx)(ir,{activities:S,user:u,content:"Activities Read: ".concat(S.length)})]})]})]}),Object(n.jsxs)("div",{className:" flex space-between align-flex-end",children:[Object(n.jsx)("div",{className:"switch-view",children:Object(n.jsxs)("select",{onChange:i,name:"",children:[Object(n.jsx)("option",{value:"board",children:"Board"}),Object(n.jsx)("option",{value:"dashboard",children:"DashBoard"})]})}),Object(n.jsxs)("div",{className:"board-options flex align-flex-end relative",children:[Object(n.jsx)(ar,{onSetFilter:o,board:t}),Object(n.jsx)("button",{className:"add-item",onClick:function(){return r()},children:"New group"})]})]}),Object(n.jsx)(He.a,{className:"sunday-tooltip",id:"members",place:"bottom",effect:"solid",children:"Who is on this board?"})]}):Object(n.jsx)("h1",{children:"Loading..."})},pr=r(262),br=r.n(pr),hr=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).cardStatusByMember=function(){var t=e.props.board,r={};t.groups.forEach((function(e){e.cards.forEach((function(e){e.members.forEach((function(t){r[t.fullname]?r[t.fullname].push({status:e.status}):r[t.fullname]=[{status:e.status}]}))}))}));var n="",a="",c={},s=[],o=function(e){r[e].forEach((function(e){s.indexOf(e.status.color)<0&&s.push(e.status.color)})),r[e].forEach((function(t,r,s){if(c[t.status.text])if(a===e&&n===t.status.text){var o=c[t.status.text].data[c[t.status.text].data.length-1]+1;c[t.status.text].data.splice(c[t.status.text].data.length-1,1,o)}else(a!==e&&n===t.status.text||a===e&&n!==t.status.text)&&c[t.status.text].data.push(1);else c[t.status.text]={data:[1],name:t.status.text};a=e,n=t.status.text}))};for(var i in r)o(i);return{options:{colors:s,chart:{type:"bar",height:"100%",width:"100%",stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[],plotOptions:{bar:{horizontal:!1}},xaxis:{categories:Object.keys(r)},yaxis:{lines:{show:!0}},legend:{position:"right",offsetY:0},fill:{opacity:1}},series:Object.values(c)}},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.cardStatusByMember();return Object(n.jsx)("div",{children:Object(n.jsx)(br.a,{options:e.options,series:e.series,type:"bar",width:"70%",height:"300%"})})}}]),r}(a.Component),fr=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={view:"board",filterBy:null,onDrag:!0,isDelete:!1,board:e.props.board},e.onAddCard=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.setMsg("Card Successfully Added"),a=e.props,c=a.board,s=a.addCard,o=a.loggedInUser,t.next=4,s({cardTitle:r,groupId:n,board:c,user:o});case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onAddGroup=Object(p.a)(d.a.mark((function t(){var r,n,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,n=r.board,a=r.loggedInUser,c=r.addGroup,t.next=3,c(n,a);case 3:case"end":return t.stop()}}),t)}))),e.onChangeTitle=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.board,c=n.loggedInUser,t.next=3,e.props.changeBoardTitle(r,a,c);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeGroupTitle=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.board,s=a.onChangeGroupTitle,o=a.loggedInUser,t.next=3,s({board:Object(h.a)({},c),groupId:n,groupTitle:r,user:o});case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onChangeBoardMemebrs=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.changeBoardMemebrs,s=a.loggedInUser,o=a.board,t.next=3,c(r,o,n,s);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onChangeGroupColor=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.setMsg("Group color Successfully Change"),a=e.props,c=a.changeGroupColor,s=a.board,t.next=4,c(r,s,n);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onRemoveGroup=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.removeGroup,c=n.board,s=n.loggedInUser,t.next=3,a(c,r,s);case 3:e.props.setMsg("Group Successfully Removed");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDragStart=function(){e.props.onDragStart()},e.onDragEnd=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o,i,u,l,p,b,h,f;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.onDragEnd(),n=r.destination,a=r.source,c=r.draggableId,n){t.next=4;break}return t.abrupt("return");case 4:if((n.droppableId!==a.droppableId||n.index!==a.index)&&n.droppableId&&a.droppableId){t.next=6;break}return t.abrupt("return");case 6:if(s=e.props,o=s.changeGroupIdx,i=s.changeCardIdx,u=s.board,"group"!==r.type){t.next=14;break}return t.next=10,o(u,r);case 10:l=t.sent,e.setState({board:l}),t.next=22;break;case 14:return p=JSON.parse(JSON.stringify(u)),b=Q.getKeyById(p,a.droppableId),h=Q.getKeyById(b,c),f=p.groups.map((function(e){return e.id===a.droppableId&&e.id!==n.droppableId?(e.cards.splice(a.index,1),e):e.id!==a.droppableId&&e.id===n.droppableId?(h||(h=Q.getKeyById(e,c)),e.cards.splice(n.index,0,h),e):e.id===a.droppableId&&e.id===n.droppableId?(e.cards=e.cards.map((function(e,t,r){return t===a.index?r[n.index]:t===n.index?r[a.index]:e})),e):e})),p.groups=f,e.setState({board:p}),t.next=22,i(p,r);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeBoardView=function(t){"dashboard"===t.target.value?e.setState({isShowDashboard:!0}):e.setState({isShowDashboard:!1})},e.onSetFilter=function(t){e.setState({filterBy:t})},e.getBoardForDisplay=function(){var t=e.state,r=t.filterBy,n=t.board,a=JSON.parse(JSON.stringify(n));if(r){r.status.length&&(a.groups=a.groups.filter((function(e){var t=e.cards.filter((function(e){return!!r.status.find((function(t){return e.status.text===t}))}));return!!t.length&&(e.cards=t,!0)}))),r.priority.length&&(a.groups=a.groups.filter((function(e){var t=e.cards.filter((function(e){return!!r.priority.find((function(t){return e.priority.text===t}))}));return!!t.length&&(e.cards=t,!0)}))),r.membersId.length&&(a.groups=a.groups.filter((function(e){var t=e.cards.filter((function(e){return!!e.members.find((function(e){return r.membersId.includes(e._id)}))}));return!!t.length&&(e.cards=t,!0)}))),r.sortBy&&!e.props.onDrag&&("name"===r.sortBy?a.groups=Q.sortByTitle(a.groups):a.groups=Q.sortByDate(a.groups));var c=new RegExp(r.txt,"i");a.groups=a.groups.filter((function(e){var t=e.cards.filter((function(e){return c.test(e.title)}));return t.length?(e.cards=t,!0):c.test(e.title)}))}return a},e}return Object(j.a)(r,[{key:"componentDidUpdate",value:function(e,t){if(e.board!==this.props.board&&this.setState({board:this.props.board}),!e.onDrag&&this.props.onDrag&&this.state.filterBy){var r=Object(h.a)({},this.state.filterBy);r.sortBy="",this.setState({filterBy:r,onDrag:!0})}}},{key:"render",value:function(){var e=this,t=this.props,r=t.loggedInUser,a=t.onDrag,c=t.board,s=this.state.isShowDashboard,o=this.getBoardForDisplay();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(dr,{user:r,board:c,onAddGroup:this.onAddGroup,changeBoardView:this.changeBoardView,onChangeTitle:this.onChangeTitle,onChangeBoardMemebrs:this.onChangeBoardMemebrs,onSetFilter:this.onSetFilter}),s&&Object(n.jsx)(hr,{board:c}),!s&&Object(n.jsx)(Mt.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart,children:Object(n.jsx)(Mt.c,{droppableId:c._id,isCombineEnabled:!0,type:"group",children:function(t){return Object(n.jsxs)("div",Object(h.a)(Object(h.a)({className:"main-groups-container",ref:t.innerRef},t.droppableProps),{},{children:[t.placeholder,Object(n.jsx)("div",{className:"groups-container flex column",children:o.groups.map((function(t,r){return Object(n.jsx)(Vt,{group:t,onDrag:a,onAddCard:e.onAddCard,board:c,onRemoveGroup:e.onRemoveGroup,onChangeGroupTitle:e.onChangeGroupTitle,onChangeGroupColor:e.onChangeGroupColor,idx:r},t.id)}))})]}))}})})]})}}]),r}(a.Component),jr={loadBoards:ye,addCard:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.addCard(e);case 3:n=t.sent,r({type:"SET_CURR_BOARD",board:n}),t.next=13;break;case 8:throw t.prev=8,t.t0=t.catch(0),a={type:"SET_CURR_BOARD",board:e.board},r(a),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},addGroup:function(e,t){return function(){var r=Object(p.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Q.addGroup(e,t);case 3:a=r.sent,n({type:"SET_CURR_BOARD",board:a}),r.next=13;break;case 8:throw r.prev=8,r.t0=r.catch(0),n({type:"SET_CURR_BOARD",board:e}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},changeBoardTitle:function(e,t,r){return function(){var n=Object(p.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.changeBoardTitle(e,t,r);case 3:c=n.sent,a({type:"SET_CURR_BOARD",board:c}),n.next=13;break;case 8:throw n.prev=8,n.t0=n.catch(0),a({type:"SET_CURR_BOARD",board:t}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},onChangeGroupTitle:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.changeGroupTitle(e);case 3:n=t.sent,r({type:"SET_CURR_BOARD",board:n}),t.next=13;break;case 8:throw t.prev=8,t.t0=t.catch(0),a={type:"SET_CURR_BOARD",board:e.board},r(a),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},changeBoardMemebrs:function(e,t,r,n){return Object(p.a)(d.a.mark((function a(){var c,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Q.changeBoardMemebrs(e,t,r,n);case 3:return c=a.sent,a.next=6,R.updateNotifications(c);case 6:s=a.sent,y.emit("onUpdateUser",s),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))},changeGroupColor:function(e,t,r){return function(){var n=Object(p.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.changeGroupColor(e,t,r);case 3:c=n.sent,a({type:"SET_CURR_BOARD",board:c}),n.next=13;break;case 8:throw n.prev=8,n.t0=n.catch(0),a({type:"SET_CURR_BOARD",board:t}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},removeGroup:function(e,t,r){return function(){var n=Object(p.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.removeGroup(e,t,r);case 3:c=n.sent,a({type:"SET_CURR_BOARD",board:c}),n.next=13;break;case 8:throw n.prev=8,n.t0=n.catch(0),a({type:"SET_CURR_BOARD",board:e}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},changeGroupIdx:function(e,t){return Object(p.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Q.changeGroupIdx(e,t);case 3:return r.abrupt("return",r.sent);case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))},changeCardIdx:function(e,t){return function(){var r=Object(p.a)(d.a.mark((function r(n){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Q.changeCardIdx(e,t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},getKeyById:Ce,setMsg:V,onDragStart:function(){return function(e){e({type:"ON_DRAG"})}},onDragEnd:function(){return function(e){e({type:"ON_DRAG_END"})}}},mr=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser,onDrag:e.boardReducer.onDrag,board:e.boardReducer.board}}),jr)(fr),gr=r(265),vr=r.n(gr),Or=r(263),xr=r.n(Or),yr=(r(468),{uploadImg:function(e){return wr.apply(this,arguments)}});function wr(){return(wr=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dptiv4ajc","rolpcssu",r="https://api.cloudinary.com/v1_1/".concat("dptiv4ajc","/image/upload"),(n=new FormData).append("file",t),n.append("upload_preset","rolpcssu"),e.prev=6,e.next=9,k.a.post("".concat(r),n);case 9:return a=e.sent,e.abrupt("return",a.data.url);case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}var Cr=r(264),kr=r.n(Cr),Sr=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={card:null,cardUpdate:{byMember:null,type:"txt",value:"",title:""},isLoading:!1},e.getCard=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.boards,c=n.getKeyById,t.next=3,c(a,r);case 3:s=t.sent,e.setState({card:s});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var r=Object(h.a)({},e.state.cardUpdate);if(!t.replace(/(<([^>]+)>)/gi,"").length)return r.value="",void e.setState({cardUpdate:r});r.value=t,e.setState({cardUpdate:r})},e.uploadImg=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(h.a)({},e.state.cardUpdate),r.target.files[0]){t.next=3;break}return t.abrupt("return");case 3:return n.value="<h1>Loading...</h1>",e.setState({isLoading:!0,cardUpdate:n}),t.next=7,yr.uploadImg(r.target.files[0]);case 7:a=t.sent,n.value=a,n.type="img",e.setState({cardUpdate:n,isLoading:!1});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onImageUploadBefore=function(){var t=Object(h.a)({},e.state.cardUpdate);return t.type="img",e.setState({cardUpdate:t}),!0},e.onAddUpdate=function(t){t.preventDefault();var r=/(<([^>]+)>)/gi,n=Object(h.a)({},e.state.cardUpdate);if(!n.value.replace(r,"").length)return n.value="",void e.setState({cardUpdate:n});"img"===n.type&&(n.value=n.value.replace(r,"")),n.byMember=e.props.loggedInUser,e.props.addCardUpdate(n,e.props.board,e.state.card),e.setState({cardUpdate:{byMember:null,value:"",title:"",type:"txt"},isOpen:!1})},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.match.params.cardId;e&&(this.getCard(e),this.setState({isOpen:!0}))}},{key:"componentDidUpdate",value:function(e,t){if(e.match.params!==this.props.match.params){var r=this.props.match.params.cardId;this.getCard(r)}}},{key:"render",value:function(){var e=this,t=this.props.board,r=this.state,a=r.card,c=r.cardUpdate;if(!a||!t)return null;var s=a.updates.reduce((function(e,t){return"txt"===t.type?e+='<div class="update txt-update">\n                                                <div class="update-header flex space-between align-center">\n                                                    <div class="update-writer flex align-center">\n                                                        <span class="user-thumbnail">'.concat(A.getNameInitials(t.byMember.fullname),"</span>\n                                                        <h5>").concat(t.byMember.fullname,'</h5>\n                                                    </div>\n                                                    <span class="created-at">').concat(Xe()(t.createdAt).from(Date.now()),'</span>\n                                                </div>\n                                                <div class="update-body">').concat(t.value,"</div>\n                                               </div>"):"img"===t.type&&(e+='<div class="update txt-update">\n                                                <div class="update-header flex space-between align-center">\n                                                 <div class="update-writer flex align-center">\n                                                        <span class="user-thumbnail">'.concat(A.getNameInitials(t.byMember.fullname),"</span>\n                                                        <h5>").concat(t.byMember.fullname,'</h5>\n                                                    </div>\n                                                    <span class="created-at">').concat(Xe()(t.createdAt).from(Date.now()),'</span>\n                                                </div>\n                                                <div class="update-body"><img class="img-update" src="').concat(t.value,'"/>\n                                                </div></div>\n                                            </div>')),e}),"");return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:"card-updates open   ",children:[Object(n.jsx)(i.b,{className:"back-arrow",to:"/board/".concat(t._id),onClick:function(){return e.setState({isOpen:!1})},children:Object(n.jsx)(lr.a,{})}),Object(n.jsxs)("div",{className:"updates-card-header flex align-center space-between",children:[Object(n.jsx)("h2",{className:"card-update-title",children:this.state.card.title}),Object(n.jsx)("span",{className:"card-status",style:{backgroundColor:a.status.color},children:a.status.text})]}),Object(n.jsx)("div",{className:"text-editor-wrapper",children:Object(n.jsxs)("form",{onSubmit:this.onAddUpdate,children:[Object(n.jsx)(xr.a,{placeholder:"Write an update...",onChange:this.handleChange,onDrop:this.handleDrop,setDefaultStyle:"",setOptions:{buttonList:[["bold","underline","italic","strike","fontColor","fontSize","align","link","image"]],imageResizing:!1},setContents:c.value}),Object(n.jsxs)("div",{className:"updates-bottom-btns flex space-between align-center",children:[Object(n.jsxs)("label",{className:"upload-file-label",children:[Object(n.jsx)(kr.a,{})," Upload image",Object(n.jsx)("input",{type:"file",onChange:this.uploadImg})]}),Object(n.jsx)("button",{className:"card-update-btn add-item",children:"Update"})]})]})}),Object(n.jsx)("div",{className:"updates-container",children:Object(n.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})})]})})}}]),r}(a.Component),Nr={getKeyById:Ce,addCardUpdate:function(e,t,r){return Object(p.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.addCardUpdate(e,t,r);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))}},Dr=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser,boards:e.boardReducer.boards}}),Nr)(Sr),Br=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isBoardSideBarOpen:window.innerWidth>=800,boardTitle:""},e.loadBoards=function(){var t=e.props;(0,t.loadBoards)(t.loggedInUser._id)},e.loadBoardById=function(){var t=Object(p.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getBoardById(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleBoardSideBar=function(){e.setState({isBoardSideBarOpen:!e.state.isBoardSideBarOpen})},e.onDeleteBoard=function(){var t=Object(p.a)(d.a.mark((function t(r,n){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeBoard(r);case 2:a=e.props.boards,(c=Q.getBoardIdByIdx(n,a))?e.props.history.push("/board/".concat(c)):e.props.history.push("/board"),e.props.setMsg("Board Successfully Deleted");case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onAddBoard=function(t){e.props.addBoard(t,e.props.loggedInUser),e.props.setMsg("Board Successfully Added")},e.onLogOut=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.logOut();case 2:case"end":return t.stop()}}),t)}))),e.onSetFilter=function(t){e.setState({boardTitle:t})},e.getBoardsForDisplay=function(){var t=e.state.boardTitle,r=e.props.boards,n=new RegExp(t,"i");return r.filter((function(e){return n.test(e.title)}))},e.onCleanNotifications=function(){e.props.cleanNotifications(e.props.loggedInUser)},e.onUpdateNotifications=function(){e.props.updateReadNotifications(e.props.loggedInUser)},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.loggedInUser,n=t.boards,r){e.next=4;break}return this.props.history.push("/"),e.abrupt("return");case 4:if(y.setup(),y.emit("userSocket",r),y.on("boardUpdate",this.props.updateBoards),y.on("updateUser",this.props.updateUserNotifications),a=this.props.match.params.boardId){e.next=16;break}return e.next=12,this.props.loadBoards(r._id);case 12:(c=e.sent).length&&this.props.history.push("/board/".concat(c[0]._id)),e.next=19;break;case 16:if(n.length||!a){e.next=19;break}return e.next=19,this.props.loadBoards(r._id);case 19:a&&this.loadBoardById(a);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){y.off("boardUpdate",this.props.updateBoards),y.off("updateUser",this.props.updateUserNotifications),y.terminate()}},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.match.params.boardId===this.props.match.params.boardId&&t.boards===this.props.boards){e.next=7;break}if(r=this.props.match.params.boardId){e.next=6;break}return e.abrupt("return");case 6:this.loadBoardById(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.match,r=e.loggedInUser,a=e.msg,c=e.board,s=this.state.isBoardSideBarOpen;return this.props.loggedInUser?Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"main-sidebar-container mobile",children:Object(n.jsx)(at,{onLogOut:this.onLogOut,user:r,onCleanNotifications:this.onCleanNotifications,onUpdateNotifications:this.onUpdateNotifications})}),Object(n.jsxs)("div",{className:"board-app-container flex",children:[Object(n.jsx)("div",{className:"main-sidebar-container desktop",children:Object(n.jsx)(at,{onLogOut:this.onLogOut,user:r,onCleanNotifications:this.onCleanNotifications,onUpdateNotifications:this.onUpdateNotifications})}),Object(n.jsxs)("div",{className:"board-sidebar-container ".concat(s?"":"closed"),children:[Object(n.jsx)("button",{className:"toggle-board-sidebar",onClick:this.toggleBoardSideBar,children:s?Object(n.jsx)(lr.a,{}):Object(n.jsx)(vr.a,{})}),Object(n.jsx)(gt,{boards:this.getBoardsForDisplay(),onDeleteBoard:this.onDeleteBoard,onAddBoard:this.onAddBoard,user:r,onSetFilter:this.onSetFilter})]}),Object(n.jsx)("div",{className:"board-preview-container",children:c&&Object(n.jsx)(mr,{})}),Object(n.jsx)("div",{children:Object(n.jsx)(u.b,{path:"".concat(t.path,"/card/:cardId"),render:function(e){return Object(n.jsx)(Dr,Object(h.a)({board:c},e))}})}),a&&Object(n.jsx)("div",{className:"snackbar slide-top",children:a})]})]}):Object(n.jsx)(u.a,{exact:!0,to:"/"})}}]),r}(a.Component),Ur={removeBoard:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.removeBoard(e);case 3:r({type:"REMOVE_BOARD",boardId:e}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},loadBoards:ye,getBoardById:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.getBoardById(e);case 3:return n=t.sent,r({type:"SET_CURR_BOARD",board:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:Z,addBoard:function(e,t){return function(){var r=Object(p.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Q.addBoard(e,t);case 3:a=r.sent,n({type:"ADD_BOARD",board:a}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},updateBoards:function(e){return function(t){t({type:"UPDATE_BOARDS",board:e})}},setMsg:V,updateReadNotifications:function(e){return Object(p.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.updateReadNotifications(e);case 3:return r=t.sent,t.abrupt("return",(function(e){e({type:"SET_LOGGED_IN_USER",user:r})}));case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))},updateUserNotifications:X,cleanNotifications:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.cleanNotifications(e);case 3:n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},_r=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser,boards:e.boardReducer.boards,msg:e.userReducer.msg,board:e.boardReducer.board}}),Ur)(Br),Mr=r.p+"static/media/undrawtask.3bbcbb76.svg";var Ir={checkLogin:Y,loadBoards:ye,updateUserNotifications:X},Ar=Object(v.b)((function(e){return{}}),Ir)((function(e){return Object(n.jsxs)("div",{className:"home-main-container",children:[Object(n.jsx)(Be,{}),Object(n.jsx)("div",{className:"home-hero",children:Object(n.jsxs)("div",{className:"home-hero-inner",children:[Object(n.jsxs)("div",{className:"home-hero-titles flex",children:[Object(n.jsxs)("h2",{children:["Join the ",Object(n.jsx)("span",{children:"Sunday"})," revolution"]}),Object(n.jsx)("h3",{children:"Manage your project with the team, all in one workspace"}),Object(n.jsx)("button",{onClick:Object(p.a)(d.a.mark((function t(){var r,n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.checkLogin({username:"guest",password:"12345678"});case 3:if(!(r=t.sent)){t.next=10;break}return t.next=7,e.loadBoards(r._id);case 7:n=t.sent,a=n.length?"/board/".concat(n[0]._id):"/board",e.history.push(a);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),children:"Get started!"})]}),Object(n.jsx)("img",{src:Mr,alt:"undraw task img"})]})})]})})),Tr=r(267),Rr=r.n(Tr),Er=r(266),Lr=r.n(Er),Fr=r(152),Gr=r.n(Fr),Pr=r(268),Jr=r.n(Pr),qr=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={boards:null},e.getActiveCards=function(){var t=e.state.boards,r=e.props.user;return t.reduce((function(e,t){return t.groups.forEach((function(n){n.cards.forEach((function(n){n.members.forEach((function(a){if(a._id===r._id&&"Done"!==n.status.text){var c={id:n.id,title:n.title,status:n.status,boardId:t._id};e.push(c)}}))}))})),e}),[])},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user,e.next=3,this.props.getBoardsByUserId(t._id);case 3:r=e.sent,this.setState({boards:r});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=this.state.boards;if(!t)return null;var r=this.getActiveCards();return Object(n.jsx)("div",{className:"general-container",children:Object(n.jsxs)("div",{className:"general-inner-container",children:[Object(n.jsxs)("div",{className:"users-boards-list",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Boards"}),Object(n.jsx)(Lr.a,{})]}),Object(n.jsx)("div",{children:t.length?t.map((function(e){return Object(n.jsx)("div",{className:"users-boards-list-row",children:Object(n.jsxs)(i.b,{to:"/board/".concat(e._id),children:[Object(n.jsx)("span",{children:e.title})," ",Object(n.jsx)(Rr.a,{})," "]})},e._id)})):Object(n.jsx)("h3",{children:"No boards to show"})})]}),Object(n.jsxs)("div",{className:"active-items-container",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Active cards"}),Object(n.jsx)(Gr.a,{})]}),Object(n.jsx)("div",{children:r?r.map((function(e){return Object(n.jsxs)(i.b,{to:"/board/".concat(e.boardId,"/card/").concat(e.id),children:[" ",Object(n.jsx)("div",{style:{borderLeft:"7px solid ".concat(e.status.color)},className:"active-items-list-row",children:Object(n.jsx)("h3",{children:e.title})})]},e.id)})):Object(n.jsx)("h3",{children:"No active cards to show"})})]}),Object(n.jsxs)("div",{className:"personal-info-container",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Contact information"}),Object(n.jsx)(Gr.a,{})]}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"personal-info-icon-row",children:Object(n.jsxs)("a",{href:"mailto:email@example.com",children:[Object(n.jsx)(Jr.a,{}),Object(n.jsx)("h3",{children:e.email})]})})})]})]})})}}]),r}(a.Component),Hr={getBoardsByUserId:we},Kr=Object(v.b)((function(e){return{}}),Hr)(qr),Wr=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:{_id:"",fullname:"",dateofbirth:"",imgUrl:"",tel:""},triggerMsg:!1},e.validatePhoneNumber=function(e){return/^(?:(?:(\+?972|\(\+?972\)|\+?\(972\))(?:\s|\.|-)?([1-9]\d?))|(0[23489]{1})|(0[57]{1}[0-9]))(?:\s|\.|-)?([^0\D]{1}\d{2}(?:\s|\.|-)?\d{4})$/gm.test(e)},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value,c=e.state.user,s=Object(h.a)({},c);s[n]=a,e.setState({user:s})},e.onTriggerMsg=function(t){e.setState({triggerMsg:t},(function(){setTimeout((function(){e.setState({triggerMsg:""})}),1500)}))},e.uploadImg=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.target.files[0]){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,yr.uploadImg(r.target.files[0]);case 4:n=t.sent,a=e.state.user,(c=Object(h.a)({},a)).imgUrl=n,e.setState({user:c});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUpdateProfile=function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),(n=e.state.user).fullname&&n.email){t.next=5;break}return e.onTriggerMsg("Please fill required fields"),t.abrupt("return");case 5:if(!n.tel){t.next=10;break}if(e.validatePhoneNumber(n.tel)){t.next=10;break}return e.onTriggerMsg("Enter valid phone number"),t.abrupt("return");case 10:return t.next=12,e.props.updateUser(n);case 12:e.onTriggerMsg("Profile updated successfully!");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.user;this.setState({user:e})}},{key:"render",value:function(){var e=this.state,t=e.user,r=e.triggerMsg;return Object(n.jsx)("div",{className:"update-profile-container",children:Object(n.jsx)("div",{className:"update-profile-inner-container",children:Object(n.jsxs)("form",{onSubmit:this.onUpdateProfile,children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("label",{children:[t.imgUrl?Object(n.jsxs)("div",{className:"user-hover relative",children:[Object(n.jsx)("img",{className:"user-thumbnail",src:t.imgUrl,alt:"profile"}),Object(n.jsx)("h3",{children:t.imgUrl?"Change":"Upload"})]}):Object(n.jsx)("span",{className:"user-thumbnail",children:A.getNameInitials(t.fullname)}),Object(n.jsx)("input",{onChange:this.uploadImg,type:"file"})]}),Object(n.jsx)("h3",{children:t.imgUrl?"Change":"Upload"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{"aria-required":!0,htmlFor:"full-name",children:"Full name"}),Object(n.jsx)("input",{value:t.fullname||"",onChange:this.handleChange,type:"text",placeholder:"Full name",name:"fullname",id:"full-name"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"date-of-birth",children:"Date of birth"}),Object(n.jsx)("input",{value:t.dateofbirth||"",onChange:this.handleChange,type:"date",name:"dateOfBirth",id:"date-of-birth"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{"aria-required":!0,htmlFor:"email",children:"email"}),Object(n.jsx)("input",{value:t.email||"",onChange:this.handleChange,type:"email",placeholder:"Email",name:"email",id:"email"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"tel",children:"Phone number"}),Object(n.jsx)("input",{value:t.tel||"",onChange:this.handleChange,type:"tel",placeholder:"Phone number",name:"tel",id:"tel"})]}),r&&Object(n.jsx)("h4",{children:r}),Object(n.jsx)("button",{type:"submit",children:"Update profile"})]})})})}}]),r}(a.Component),zr={updateUser:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.update(e);case 3:return n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},Vr=Object(v.b)((function(e){return{}}),zr)(Wr),Yr=r(269),Zr=r.n(Yr),Xr=function(e){Object(m.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:null,boards:null,isMyProfile:!1},e.onLogOut=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.logOut();case 2:case"end":return t.stop()}}),t)}))),e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,a,c,s,o,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.loggedInUser,n=t.getBoardsByUserId,a=t.getUserById,r){e.next=4;break}return this.props.history.push("/"),e.abrupt("return");case 4:return c=this.props.match.params.userId,e.next=7,a(c);case 7:return s=e.sent,e.next=10,n(c);case 10:o=e.sent,this.setState({user:s,boards:o},(function(){r._id===i.state.user._id&&i.setState({isMyProfile:!0})}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user,r=e.isMyProfile,a=e.boards,c=this.props,s=c.match,o=c.loggedInUser;return o?t&&a?Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"main-sidebar-container mobile",children:Object(n.jsx)(at,{onLogOut:this.onLogOut,user:o})}),Object(n.jsxs)("div",{className:"user-profile-main-container",children:[Object(n.jsx)("div",{className:"main-sidebar-container desktop",children:Object(n.jsx)(at,{onLogOut:this.onLogOut,user:o})}),Object(n.jsxs)("div",{className:"user-profile-panel",children:[Object(n.jsxs)("div",{className:"user-profile-header",children:[Object(n.jsx)(i.b,{to:"/board",className:"link",children:Object(n.jsx)(Zr.a,{})}),Object(n.jsx)("span",{className:"user-profile-initials",children:t.imgUrl?Object(n.jsx)("img",{src:t.imgUrl,alt:"profile"}):A.getNameInitials(t.fullname)}),Object(n.jsxs)("h3",{children:["".concat(r?"Hello,":"")," ",Object(n.jsx)("b",{children:t.fullname})]}),r&&Object(n.jsxs)("div",{className:"user-profile-tabs",children:[Object(n.jsx)(i.b,{to:"".concat(s.url,"/general"),className:"link",children:"General"}),Object(n.jsx)(i.b,{to:"".concat(s.url,"/update_profile"),className:"link",children:"Update profile"})]})]}),Object(n.jsxs)("div",{className:"user-profile-content",children:[Object(n.jsx)(u.b,{path:"".concat(s.path,"/general"),render:function(e){return Object(n.jsx)(Kr,Object(h.a)({user:t},e))}}),Object(n.jsx)(u.b,{path:"".concat(s.path,"/update_profile"),render:function(e){return Object(n.jsx)(Vr,Object(h.a)({user:t},e))}})]})]})]})]}):null:Object(n.jsx)(u.a,{exact:!0,to:"/"})}}]),r}(a.Component),$r={logOut:Z,getUserById:function(e){return Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.getUserById(e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))},getBoardsByUserId:we},Qr=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),$r)(Xr);function en(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(i.a,{children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{path:"/board/:boardId",component:_r}),Object(n.jsx)(u.b,{path:"/user/:userId",component:Qr}),Object(n.jsx)(u.b,{path:"/board",component:_r}),Object(n.jsx)(u.b,{exact:!0,path:"/login",component:Me}),Object(n.jsx)(u.b,{exact:!0,path:"/signUp",component:Le}),Object(n.jsx)(u.b,{exact:!0,path:"/",component:Ar})]})})})}var tn=r(44),rn=r(270),nn={users:[],loggedInUser:R.getLoggedinUser(),msg:""};var an={boards:[],board:null,onDrag:!1};var cn=Object(tn.c)({boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(h.a)(Object(h.a)({},e),{},{boards:t.boards});case"SET_CURR_BOARD":return Object(h.a)(Object(h.a)({},e),{},{board:t.board});case"UPDATE_BOARDS":return Object(h.a)(Object(h.a)({},e),{},{boards:e.boards.map((function(e){return e._id===t.board._id?t.board:e}))});case"ADD_BOARD":return Object(h.a)(Object(h.a)({},e),{},{boards:[].concat(Object(w.a)(e.boards),[t.board])});case"REMOVE_BOARD":return Object(h.a)(Object(h.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t.boardId}))});case"ON_DRAG":return Object(h.a)(Object(h.a)({},e),{},{onDrag:!0});case"ON_DRAG_END":return Object(h.a)(Object(h.a)({},e),{},{onDrag:!1});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGGED_IN_USER":return Object(h.a)(Object(h.a)({},e),{},{loggedInUser:t.user});case"LOG_OUT":return Object(h.a)(Object(h.a)({},e),{},{loggedInUser:null});case"SET_MSG":return Object(h.a)(Object(h.a)({},e),{},{msg:t.msg});case"CLEAR_MSG":return Object(h.a)(Object(h.a)({},e),{},{msg:null});default:return e}}}),sn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tn.d,on=Object(tn.e)(cn,sn(Object(tn.a)(rn.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var un=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,517)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};o.a.render(Object(n.jsx)(v.a,{store:on,children:Object(n.jsx)(i.a,{children:Object(n.jsx)(en,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),un()}},[[469,1,2]]]);
//# sourceMappingURL=main.33bdaf7a.chunk.js.map